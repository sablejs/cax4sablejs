var $ftNz4$statsjs=require("stats.js");var $ftNz4$swchelpers=require("@swc/helpers");var $ftNz4$process=require("process");var $parcel$global=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof global!=="undefined"?global:{};var $6442852b4c640657$exports={};$6442852b4c640657$exports=function(vm){var global=vm.getGlobal();var vStats=vm.createFunction("Stats",(function(){var vThisRef=vm.asObject(this);var stats=new $ftNz4$statsjs;stats.showPanel(0);document.body.appendChild(stats.dom);vThisRef.value=stats}));var vStatsProto=vm.createObject();var vBegin=vm.createFunction("Stats.prototype.begin",(function(){var vThisRef=vm.asObject(this);vThisRef.value.begin()}));var vEnd=vm.createFunction("Stats.prototype.end",(function(){var vThisRef=vm.asObject(this);vThisRef.value.end()}));vm.setProperty(vStatsProto,"begin",vBegin);vm.setProperty(vStatsProto,"end",vEnd);vm.setPrototype(vStats,vStatsProto);vm.setProperty(global,"Stats",vStats)};var $145a96f97bd0b9d3$exports={};var $9c0340e1c7c4c0da$exports={};$9c0340e1c7c4c0da$exports={PROPERTIES:{x:0,y:0,visible:true,scaleX:1,scaleY:1,scale:1,rotation:0,skewX:0,skewY:0,originX:0,originY:0,alpha:1,cursor:"",fixed:false,cacheUpdating:false,shadow:{color:"",offsetX:0,offsetY:0,blur:0}},SHAPES:{Rect:{width:Number,height:Number,option:{fillStyle:String,strokeStyle:String,lineWidth:Number},props:["width","height","option"]},Sector:{r:Number,from:Number,to:Number,option:{fillStyle:String,strokeStyle:String,lineWidth:Number},props:["r","from","to","option"]},RoundedRect:{width:Number,height:Number,r:Number,option:{fillStyle:String,strokeStyle:String,lineWidth:Number,lt:Boolean,rt:Boolean,lb:Boolean,rb:Boolean},props:["width","height","r","option"]},Polygon:{vertex:[[Number]],options:{strokeStyle:String,fillColor:String},props:["vertex","options"]},Path:{d:String,option:{fillStyle:String,strokeStyle:String,lineWidth:Number},props:["d","option"]},EquilateralPolygon:{num:Number,r:Number,options:{fillStyle:String,strokeStyle:String,lineWidth:Number},props:["num","r","options"]},Ellipse:{width:Number,height:Number,option:{fillStyle:String,strokeStyle:String,lineWidth:Number},props:["width","height","option"]},Circle:{r:Number,option:{fillStyle:String,strokeStyle:String,lineWidth:Number},props:["r","option"]},ArrowPath:{path:[{x:Number,y:Number}],option:{strokeStyle:String,lineWidth:Number,headSize:Number},props:["path","option"]}},EASING:["Quadratic","Cubic","Quartic","Quintic","Sinusoidal","Exponential","Circular","Elastic","Back","Bounce"],noop:function(){},isPlainObject:function(value){if(!value||{}.toString.call(value)!=="[object Object]")return false;var proto=Object.getPrototypeOf(value);if(!proto)return true;var constructor={}.hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof constructor==="function"&&Function.prototype.toString.call(constructor)===Function.prototype.toString.call(Object)}};var $145a96f97bd0b9d3$require$noop=$9c0340e1c7c4c0da$exports.noop;$145a96f97bd0b9d3$exports=function(vm){var global=vm.getGlobal();var vEvent=vm.createFunction("__Event__",(function(vValue){var vValueRef=vm.asObject(vValue);var event=vValueRef.value;event.stopPropagation=event.stopPropagation||$145a96f97bd0b9d3$require$noop;event.preventDefault=event.preventDefault||$145a96f97bd0b9d3$require$noop;for(var key in event){var value=event[key];if(typeof value==="string")vm.setProperty(this,key,vm.createString(value));else if(typeof value==="number")vm.setProperty(this,key,vm.createNumber(value));else if(typeof value==="boolean")vm.setProperty(this,key,vm.createBoolean(value));else if(typeof value==="function"&&!value.length)vm.setProperty(this,key,vm.createFunction(key,event[key].bind(event)));else vm.setProperty(this,key,vm.createUndefined())}}));vm.setProperty(global,"__Event__",vEvent)};var $ecb626c0880046e8$exports={};$ecb626c0880046e8$exports=function(vm){var global=vm.getGlobal();var vImage=vm.createFunction("Image",(function(image){var vThisRef=vm.asObject(this);var vImageRef=vm.asObject(image);vm.setProperty(this,"width",vm.createNumber(vImageRef.value.width));vm.setProperty(this,"height",vm.createNumber(vImageRef.value.height));vm.setProperty(this,"src",vm.createString(vImageRef.value.src));vThisRef.value=vImageRef.value}));vm.setProperty(global,"Image",vImage)};var $90183b8ed5aae1a0$exports={};var $fbbd60cc0608b3d1$exports={};function $fbbd60cc0608b3d1$var$$parcel$interopDefault(a){return a&&a.__esModule?a.default:a}var $fbbd60cc0608b3d1$var$$parcel$global=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof $parcel$global!=="undefined"?$parcel$global:{};var $fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports={};var $fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$_Group=function $fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$_Group(){this._tweens={};this._tweensAddedDuringUpdate={}};$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$_Group.prototype={getAll:function getAll(){return Object.keys(this._tweens).map(function(tweenId){return this._tweens[tweenId]}.bind(this))},removeAll:function removeAll(){this._tweens={}},add:function add(tween){this._tweens[tween.getId()]=tween;this._tweensAddedDuringUpdate[tween.getId()]=tween},remove:function remove(tween){delete this._tweens[tween.getId()];delete this._tweensAddedDuringUpdate[tween.getId()]},update:function update(time,preserve){var tweenIds=Object.keys(this._tweens);if(tweenIds.length===0)return false;time=time!==undefined?time:$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.now();while(tweenIds.length>0){this._tweensAddedDuringUpdate={};for(var i=0;i<tweenIds.length;i++){var tween=this._tweens[tweenIds[i]];if(tween&&tween.update(time)===false){tween._isPlaying=false;if(!preserve)delete this._tweens[tweenIds[i]]}}tweenIds=Object.keys(this._tweensAddedDuringUpdate)}return true}};var $fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN=new $fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$_Group;$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.Group=$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$_Group;$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN._nextId=0;$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.nextId=function(){return $fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN._nextId++};if(typeof window==="undefined"&&typeof $ftNz4$process!=="undefined"){if(typeof wx!=="undefined")$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.now=Date.now;else $fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.now=function(){var time=$ftNz4$process.hrtime();return time[0]*1e3+time[1]/1e6}}else if(typeof window!=="undefined"&&window.performance!==undefined&&window.performance.now!==undefined)$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.now=window.performance.now.bind(window.performance);else if(Date.now!==undefined)$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.now=Date.now;else $fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.now=function(){return(new Date).getTime()};$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.Tween=function(object,group){this._object=object;this._valuesStart={};this._valuesEnd={};this._valuesStartRepeat={};this._duration=1e3;this._repeat=0;this._repeatDelayTime=undefined;this._yoyo=false;this._isPlaying=false;this._reversed=false;this._delayTime=0;this._startTime=null;this._easingFunction=$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.Easing.Linear.None;this._interpolationFunction=$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.Interpolation.Linear;this._chainedTweens=[];this._onStartCallback=null;this._onStartCallbackFired=false;this._onUpdateCallback=null;this._onCompleteCallback=null;this._onStopCallback=null;this._group=group||$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN;this._id=$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.nextId();this._paused=false;this._passTime=null};$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.Tween.prototype={getId:function getId(){return this._id},toggle:function(){if(this._paused)this.play();else this.pause()},pause:function pause(){this._paused=true;var pauseTime=$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.now();this._passTime=pauseTime-this._startTime},play:function play(){this._paused=false;var nowTime=$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.now();this._startTime=nowTime-this._passTime},isPlaying:function isPlaying(){return this._isPlaying},to:function to(properties,duration){this._valuesEnd=properties;if(duration!==undefined)this._duration=duration;return this},start:function start(time){this._group.add(this);this._isPlaying=true;this._onStartCallbackFired=false;this._startTime=time!==undefined?typeof time==="string"?$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.now()+parseFloat(time):time:$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.now();this._startTime+=this._delayTime;for(var property in this._valuesEnd){if(this._valuesEnd[property]instanceof Array){if(this._valuesEnd[property].length===0)continue;this._valuesEnd[property]=[this._object[property]].concat(this._valuesEnd[property])}if(this._object[property]===undefined)continue;this._valuesStart[property]=this._object[property];if(this._valuesStart[property]instanceof Array===false)this._valuesStart[property]*=1;this._valuesStartRepeat[property]=this._valuesStart[property]||0}return this},stop:function stop(){if(!this._isPlaying)return this;this._group.remove(this);this._isPlaying=false;if(this._onStopCallback!==null)this._onStopCallback(this._object);this.stopChainedTweens();return this},end:function end(){this.update(this._startTime+this._duration);return this},stopChainedTweens:function stopChainedTweens(){for(var i=0,numChainedTweens=this._chainedTweens.length;i<numChainedTweens;i++)this._chainedTweens[i].stop()},group:function group(group){this._group=group;return this},delay:function delay(amount){this._delayTime=amount;return this},repeat:function repeat(times){this._repeat=times;return this},repeatDelay:function repeatDelay(amount){this._repeatDelayTime=amount;return this},yoyo:function yoyo(yy){this._yoyo=yy;return this},easing:function easing(eas){this._easingFunction=eas;return this},interpolation:function interpolation(inter){this._interpolationFunction=inter;return this},chain:function chain(){this._chainedTweens=arguments;return this},onStart:function onStart(callback){this._onStartCallback=callback;return this},onUpdate:function onUpdate(callback){this._onUpdateCallback=callback;return this},onComplete:function onComplete(callback){this._onCompleteCallback=callback;return this},onStop:function onStop(callback){this._onStopCallback=callback;return this},update:function update(time){if(this._paused)return true;var property;var elapsed;var value;if(time<this._startTime)return true;if(this._onStartCallbackFired===false){if(this._onStartCallback!==null)this._onStartCallback(this._object);this._onStartCallbackFired=true}elapsed=(time-this._startTime)/this._duration;elapsed=this._duration===0||elapsed>1?1:elapsed;value=this._easingFunction(elapsed);for(property in this._valuesEnd){if(this._valuesStart[property]===undefined)continue;var start=this._valuesStart[property]||0;var end=this._valuesEnd[property];if(end instanceof Array)this._object[property]=this._interpolationFunction(end,value);else{if(typeof end==="string"){if(end.charAt(0)==="+"||end.charAt(0)==="-")end=start+parseFloat(end);else end=parseFloat(end)}if(typeof end==="number")this._object[property]=start+(end-start)*value}}if(this._onUpdateCallback!==null)this._onUpdateCallback(this._object);if(elapsed===1){if(this._repeat>0){if(isFinite(this._repeat))this._repeat--;for(property in this._valuesStartRepeat){if(typeof this._valuesEnd[property]==="string")this._valuesStartRepeat[property]=this._valuesStartRepeat[property]+parseFloat(this._valuesEnd[property]);if(this._yoyo){var tmp=this._valuesStartRepeat[property];this._valuesStartRepeat[property]=this._valuesEnd[property];this._valuesEnd[property]=tmp}this._valuesStart[property]=this._valuesStartRepeat[property]}if(this._yoyo)this._reversed=!this._reversed;if(this._repeatDelayTime!==undefined)this._startTime=time+this._repeatDelayTime;else this._startTime=time+this._delayTime;return true}else{if(this._onCompleteCallback!==null)this._onCompleteCallback(this._object);for(var i=0,numChainedTweens=this._chainedTweens.length;i<numChainedTweens;i++)this._chainedTweens[i].start(this._startTime+this._duration);return false}}return true}};$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.Easing={Linear:{None:function None(k){return k}},Quadratic:{In:function In(k){return k*k},Out:function Out(k){return k*(2-k)},InOut:function InOut(k){if((k*=2)<1)return.5*k*k;return-.5*(--k*(k-2)-1)}},Cubic:{In:function In(k){return k*k*k},Out:function Out(k){return--k*k*k+1},InOut:function InOut(k){if((k*=2)<1)return.5*k*k*k;return.5*((k-=2)*k*k+2)}},Quartic:{In:function In(k){return k*k*k*k},Out:function Out(k){return 1- --k*k*k*k},InOut:function InOut(k){if((k*=2)<1)return.5*k*k*k*k;return-.5*((k-=2)*k*k*k-2)}},Quintic:{In:function In(k){return k*k*k*k*k},Out:function Out(k){return--k*k*k*k*k+1},InOut:function InOut(k){if((k*=2)<1)return.5*k*k*k*k*k;return.5*((k-=2)*k*k*k*k+2)}},Sinusoidal:{In:function In(k){return 1-Math.cos(k*Math.PI/2)},Out:function Out(k){return Math.sin(k*Math.PI/2)},InOut:function InOut(k){return.5*(1-Math.cos(Math.PI*k))}},Exponential:{In:function In(k){return k===0?0:Math.pow(1024,k-1)},Out:function Out(k){return k===1?1:1-Math.pow(2,-10*k)},InOut:function InOut(k){if(k===0)return 0;if(k===1)return 1;if((k*=2)<1)return.5*Math.pow(1024,k-1);return.5*(-Math.pow(2,-10*(k-1))+2)}},Circular:{In:function In(k){return 1-Math.sqrt(1-k*k)},Out:function Out(k){return Math.sqrt(1- --k*k)},InOut:function InOut(k){if((k*=2)<1)return-.5*(Math.sqrt(1-k*k)-1);return.5*(Math.sqrt(1-(k-=2)*k)+1)}},Elastic:{In:function In(k){if(k===0)return 0;if(k===1)return 1;return-Math.pow(2,10*(k-1))*Math.sin((k-1.1)*5*Math.PI)},Out:function Out(k){if(k===0)return 0;if(k===1)return 1;return Math.pow(2,-10*k)*Math.sin((k-.1)*5*Math.PI)+1},InOut:function InOut(k){if(k===0)return 0;if(k===1)return 1;k*=2;if(k<1)return-.5*Math.pow(2,10*(k-1))*Math.sin((k-1.1)*5*Math.PI);return.5*Math.pow(2,-10*(k-1))*Math.sin((k-1.1)*5*Math.PI)+1}},Back:{In:function In(k){var s=1.70158;return k*k*((s+1)*k-s)},Out:function Out(k){var s=1.70158;return--k*k*((s+1)*k+s)+1},InOut:function InOut(k){var s=2.5949095;if((k*=2)<1)return.5*(k*k*((s+1)*k-s));return.5*((k-=2)*k*((s+1)*k+s)+2)}},Bounce:{In:function In(k){return 1-$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.Easing.Bounce.Out(1-k)},Out:function Out(k){if(k<1/2.75)return 7.5625*k*k;else if(k<2/2.75)return 7.5625*(k-=1.5/2.75)*k+.75;else if(k<2.5/2.75)return 7.5625*(k-=2.25/2.75)*k+.9375;else return 7.5625*(k-=2.625/2.75)*k+.984375},InOut:function InOut(k){if(k<.5)return $fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.Easing.Bounce.In(k*2)*.5;return $fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.Easing.Bounce.Out(k*2-1)*.5+.5}}};$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.Interpolation={Linear:function Linear(v,k){var m=v.length-1;var f=m*k;var i=Math.floor(f);var fn=$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.Interpolation.Utils.Linear;if(k<0)return fn(v[0],v[1],f);if(k>1)return fn(v[m],v[m-1],m-f);return fn(v[i],v[i+1>m?m:i+1],f-i)},Bezier:function Bezier(v,k){var b=0;var n=v.length-1;var pw=Math.pow;var bn=$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.Interpolation.Utils.Bernstein;for(var i=0;i<=n;i++)b+=pw(1-k,n-i)*pw(k,i)*v[i]*bn(n,i);return b},CatmullRom:function CatmullRom(v,k){var m=v.length-1;var f=m*k;var i=Math.floor(f);var fn=$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.Interpolation.Utils.CatmullRom;if(v[0]===v[m]){if(k<0)i=Math.floor(f=m*(1+k));return fn(v[(i-1+m)%m],v[i],v[(i+1)%m],v[(i+2)%m],f-i)}else{if(k<0)return v[0]-(fn(v[0],v[0],v[1],v[1],-f)-v[0]);if(k>1)return v[m]-(fn(v[m],v[m],v[m-1],v[m-1],f-m)-v[m]);return fn(v[i?i-1:0],v[i],v[m<i+1?m:i+1],v[m<i+2?m:i+2],f-i)}},Utils:{Linear:function Linear(p0,p1,t){return(p1-p0)*t+p0},Bernstein:function Bernstein(n,i){var fc=$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN.Interpolation.Utils.Factorial;return fc(n)/fc(i)/fc(n-i)},Factorial:function(){var a=[1];return function(n){var s=1;if(a[n])return a[n];for(var i=n;i>1;i--)s*=i;a[n]=s;return s}}(),CatmullRom:function CatmullRom(p0,p1,p2,p3,t){var v0=(p2-p0)*.5;var v1=(p3-p1)*.5;var t2=t*t;var t3=t*t2;return(2*p1-2*p2+v0+v1)*t3+(-3*p1+3*p2-2*v0-v1)*t2+v0*t+p1}}};(function(root){if(typeof $fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports==="object")$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports=$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN;else if(root!==undefined)root.TWEEN=$fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$var$TWEEN})($fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports);
/*!
 *  raf-interval v0.3.0 By dntzhang
 *  Github: https://github.com/dntzhang/raf-interval
 *  MIT Licensed.
 */if(!Date.now)Date.now=function now(){return(new Date).getTime()};var $fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$queue=[],$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$id=-1,$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$ticking=false,$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$tickId=null,$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$now=Date.now,$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$lastTime=0,$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$vendors=["ms","moz","webkit","o"],$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$x=0,$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$isWeapp=typeof wx!=="undefined"&&typeof Page!=="undefined",$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$isWegame=typeof wx!=="undefined"&&typeof Page==="undefined",$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$isBrowser=typeof window!=="undefined";var $fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$raf=$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$isBrowser?window.requestAnimationFrame:null;var $fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$caf=$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$isBrowser?window.cancelAnimationFrame:null;function $fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$mockRaf(callback,element){var currTime=$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$now();var timeToCall=Math.max(0,16-(currTime-$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$lastTime));var id=setTimeout((function(){callback(currTime+timeToCall)}),timeToCall);$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$lastTime=currTime+timeToCall;return id}function $fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$mockCaf(id){clearTimeout(id)}if($fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$isBrowser){window.setRafInterval=$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$export$f34283cc2c2ba8c8;window.clearRafInterval=$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$export$3ef6dffe869813b5;for(;$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$x<$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$vendors.length&&!window.requestAnimationFrame;++$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$x){window.requestAnimationFrame=window[$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$vendors[$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$x]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$vendors[$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$x]+"CancelAnimationFrame"]||window[$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$vendors[$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$x]+"CancelRequestAnimationFrame"]}if(!$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$raf){$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$raf=$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$mockRaf;$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$caf=$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$mockCaf;window.requestAnimationFrame=$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$raf;window.cancelAnimationFrame=$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$caf}}else if($fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$isWeapp){$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$raf=$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$mockRaf;$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$caf=$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$mockCaf}else if($fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$isWegame){$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$raf=requestAnimationFrame;$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$caf=cancelAnimationFrame}function $fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$export$f34283cc2c2ba8c8(fn,interval){$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$id++;$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$queue.push({id:$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$id,fn:fn,interval:interval,lastTime:$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$now()});if(!$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$ticking){var tick=function(){$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$tickId=$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$raf(tick);$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$each($fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$queue,(function(item){if(item.interval<17||$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$now()-item.lastTime>=item.interval){item.fn();item.lastTime=$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$now()}}))};$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$ticking=true;tick()}return $fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$id}function $fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$export$3ef6dffe869813b5(id){var i=0,len=$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$queue.length;for(;i<len;i++)if(id===$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$queue[i].id){$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$queue.splice(i,1);break}if($fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$queue.length===0){$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$caf($fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$tickId);$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$ticking=false}}function $fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$var$each(arr,fn){if(Array.prototype.forEach)arr.forEach(fn);else{var i=0,len=arr.length;for(;i<len;i++)fn(arr[i],i)}}var $fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$var$To=function(){"use strict";function $fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$var$To(element1){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$var$To);this.element=element1;this.cmds=[];this.index=0;this.tweens=[];this._pause=false;this.loop=$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$export$f34283cc2c2ba8c8((function(){$fbbd60cc0608b3d1$var$$parcel$interopDefault($fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports).update()}),15);this.cycleCount=0}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$var$To,[{key:"to",value:function to(target,duration,easing){this.cmds.push(["to"]);if(arguments.length!==0)for(var key in target)this.set(key,target[key],duration||0,easing);return this}},{key:"set",value:function set(prop,value,duration1,easing1){this.cmds[this.cmds.length-1].push([prop,[value,duration1,easing1]]);return this}},{key:"x",value:function x(){this.cmds[this.cmds.length-1].push(["x",arguments]);return this}},{key:"y",value:function y(){this.cmds[this.cmds.length-1].push(["y",arguments]);return this}},{key:"z",value:function z(){this.cmds[this.cmds.length-1].push(["z",arguments]);return this}},{key:"rotation",value:function rotation(){this.cmds[this.cmds.length-1].push(["rotation",arguments]);return this}},{key:"scaleX",value:function scaleX(){this.cmds[this.cmds.length-1].push(["scaleX",arguments]);return this}},{key:"scaleY",value:function scaleY(){this.cmds[this.cmds.length-1].push(["scaleY",arguments]);return this}},{key:"skewX",value:function skewX(){this.cmds[this.cmds.length-1].push(["skewX",arguments]);return this}},{key:"skewY",value:function skewY(){this.cmds[this.cmds.length-1].push(["skewY",arguments]);return this}},{key:"originX",value:function originX(){this.cmds[this.cmds.length-1].push(["originX",arguments]);return this}},{key:"originY",value:function originY(){this.cmds[this.cmds.length-1].push(["originY",arguments]);return this}},{key:"alpha",value:function alpha(){this.cmds[this.cmds.length-1].push(["alpha",arguments]);return this}},{key:"begin",value:function begin(fn){this.cmds[this.cmds.length-1].begin=fn;return this}},{key:"progress",value:function progress(fn1){this.cmds[this.cmds.length-1].progress=fn1;return this}},{key:"end",value:function end(fn2){this.cmds[this.cmds.length-1].end=fn2;return this}},{key:"wait",value:function wait(){this.cmds.push(["wait",arguments]);return this}},{key:"then",value:function then(){this.cmds.push(["then",arguments]);return this}},{key:"cycle",value:function cycle(){this.cmds.push(["cycle",arguments]);return this}},{key:"start",value:function start(){if(this._pause)return;var len=this.cmds.length;if(this.index<len)this.exec(this.cmds[this.index],this.index===len-1);else $fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$export$3ef6dffe869813b5(this.loop);return this}},{key:"pause",value:function pause(){this._pause=true;for(var i=0,len=this.tweens.length;i<len;i++)this.tweens[i].pause();if(this.currentTask==="wait"){this.timeout-=new Date-this.currentTaskBegin;this.currentTaskBegin=new Date}}},{key:"toggle",value:function toggle(){if(this._pause)this.play();else this.pause()}},{key:"play",value:function play(){this._pause=false;for(var i=0,len=this.tweens.length;i<len;i++)this.tweens[i].play();var self=this;if(this.currentTask==="wait")setTimeout((function(){if(self._pause)return;self.index++;self.start();if(self.index===self.cmds.length&&self.complete)self.complete()}),this.timeout)}},{key:"stop",value:function stop(){for(var i=0,len=this.tweens.length;i<len;i++)this.tweens[i].stop();this.cmds.length=0}},{key:"animate",value:function animate(name){this.cmds=this.cmds.concat($fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$var$To.animationMap[name]||[]);return this}},{key:"exec",value:function exec(cmd,last){var len=cmd.length,self=this;this.currentTask=cmd[0];switch(this.currentTask){case"to":self.stepCompleteCount=0;for(var i=1;i<len;i++){var task=cmd[i];var ease=task[1][2];var target={};var prop=task[0];target[prop]=task[1][0];var t=new($fbbd60cc0608b3d1$var$$parcel$interopDefault($fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports).Tween)(this.element).to(target,task[1][1]).onStart((function(){if(cmd.begin)cmd.begin.call(self.element,self.element)})).onUpdate((function(){if(cmd.progress)cmd.progress.call(self.element,self.element)})).easing(ease||$fbbd60cc0608b3d1$var$$parcel$interopDefault($fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports).Easing.Linear.None).onComplete((function(){self.stepCompleteCount++;if(self.stepCompleteCount===len-1){if(cmd.end)cmd.end.call(self.element,self.element);if(last&&self.complete)self.complete();self.index++;self.start()}})).start();this.tweens.push(t)}break;case"wait":this.currentTaskBegin=new Date;this.timeout=cmd[1][0];setTimeout((function(){if(self._pause)return;self.index++;self.start();if(cmd.end)cmd.end.call(self.element,self.element);if(last&&self.complete)self.complete()}),cmd[1][0]);break;case"then":var arg=cmd[1][0];arg.index=0;arg.complete=function(){self.index++;self.start();if(last&&self.complete)self.complete()};arg.start();break;case"cycle":var count=cmd[1][1];if(count===undefined){self.index=cmd[1][0]||0;self.start()}else if(count&&self.cycleCount===count){self.index++;self.start();if(last&&self.complete)self.complete()}else{self.cycleCount++;self.index=cmd[1][0];self.start()}break}}}]);return $fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$var$To}();$fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$var$To.get=function(element){var to=new $fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$var$To(element);return to};$fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$var$To.animationMap={};$fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$var$To.extend=function(animationName,cmds){$fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$var$To.animationMap[animationName]=cmds};var $fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$var$To;$fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$export$2e2bcd8739ae039.extend("rubber",[["to",["scaleX",{0:1.25,1:300}],["scaleY",{0:.75,1:300}]],["to",["scaleX",{0:.75,1:100}],["scaleY",{0:1.25,1:100}]],["to",["scaleX",{0:1.15,1:100}],["scaleY",{0:.85,1:100}]],["to",["scaleX",{0:.95,1:150}],["scaleY",{0:1.05,1:150}]],["to",["scaleX",{0:1.05,1:100}],["scaleY",{0:.95,1:100}]],["to",["scaleX",{0:1,1:250}],["scaleY",{0:1,1:250}]]]);$fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$export$2e2bcd8739ae039.extend("bounceIn",[["to",["scaleX",{0:0,1:0}],["scaleY",{0:0,1:0}]],["to",["scaleX",{0:1.35,1:200}],["scaleY",{0:1.35,1:200}]],["to",["scaleX",{0:.9,1:100}],["scaleY",{0:.9,1:100}]],["to",["scaleX",{0:1.1,1:100}],["scaleY",{0:1.1,1:100}]],["to",["scaleX",{0:.95,1:100}],["scaleY",{0:.95,1:100}]],["to",["scaleX",{0:1,1:100}],["scaleY",{0:1,1:100}]]]);$fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$export$2e2bcd8739ae039.extend("flipInX",[["to",["rotateX",{0:-90,1:0}]],["to",["rotateX",{0:20,1:300}]],["to",["rotateX",{0:-20,1:300}]],["to",["rotateX",{0:10,1:300}]],["to",["rotateX",{0:-5,1:300}]],["to",["rotateX",{0:0,1:300}]]]);$fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$export$2e2bcd8739ae039.extend("zoomOut",[["to",["scaleX",{0:0,1:400}],["scaleY",{0:0,1:400}]]]);var $fbbd60cc0608b3d1$var$$463719c37c18c090$var$wegameCanvas=null;if(typeof wx!=="undefined"){if(wx.getSharedCanvas)$fbbd60cc0608b3d1$var$$463719c37c18c090$var$wegameCanvas=wx.getSharedCanvas();else if(wx.createCanvas)$fbbd60cc0608b3d1$var$$463719c37c18c090$var$wegameCanvas=wx.createCanvas()}var $fbbd60cc0608b3d1$var$$463719c37c18c090$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$463719c37c18c090$var$wegameCanvas;var $fbbd60cc0608b3d1$var$$31bedce70ad6a922$var$DEG_TO_RAD=.017453292519943295;var $fbbd60cc0608b3d1$var$$31bedce70ad6a922$var$PI_2=Math.PI*2;var $fbbd60cc0608b3d1$var$$31bedce70ad6a922$var$Matrix2D=function(){"use strict";function $fbbd60cc0608b3d1$var$$31bedce70ad6a922$var$Matrix2D(a4,b4,c4,d4,tx4,ty4){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$31bedce70ad6a922$var$Matrix2D);this.a=a4==null?1:a4;this.b=b4||0;this.c=c4||0;this.d=d4==null?1:d4;this.tx=tx4||0;this.ty=ty4||0;return this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$31bedce70ad6a922$var$Matrix2D,[{key:"identity",value:function identity(){this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;return this}},{key:"appendTransform",value:function appendTransform(x,y,scaleX,scaleY,rotation,skewX1,skewY1,originX,originY){if(rotation%360){var r=rotation*$fbbd60cc0608b3d1$var$$31bedce70ad6a922$var$DEG_TO_RAD;var cos=Math.cos(r);var sin=Math.sin(r)}else{cos=1;sin=0}if(skewX1||skewY1){skewX1*=$fbbd60cc0608b3d1$var$$31bedce70ad6a922$var$DEG_TO_RAD;skewY1*=$fbbd60cc0608b3d1$var$$31bedce70ad6a922$var$DEG_TO_RAD;this.append(Math.cos(skewY1),Math.sin(skewY1),-Math.sin(skewX1),Math.cos(skewX1),x,y);this.append(cos*scaleX,sin*scaleX,-sin*scaleY,cos*scaleY,0,0)}else this.append(cos*scaleX,sin*scaleX,-sin*scaleY,cos*scaleY,x,y);if(originX||originY){this.tx-=originX*this.a+originY*this.c;this.ty-=originX*this.b+originY*this.d}return this}},{key:"append",value:function append(a1,b1,c1,d1,tx1,ty1){var a11=this.a;var b11=this.b;var c11=this.c;var d11=this.d;this.a=a1*a11+b1*c11;this.b=a1*b11+b1*d11;this.c=c1*a11+d1*c11;this.d=c1*b11+d1*d11;this.tx=tx1*a11+ty1*c11+this.tx;this.ty=tx1*b11+ty1*d11+this.ty;return this}},{key:"initialize",value:function initialize(a2,b2,c2,d2,tx2,ty2){this.a=a2;this.b=b2;this.c=c2;this.d=d2;this.tx=tx2;this.ty=ty2;return this}},{key:"setValues",value:function setValues(a3,b3,c3,d3,tx3,ty3){this.a=a3==null?1:a3;this.b=b3||0;this.c=c3||0;this.d=d3==null?1:d3;this.tx=tx3||0;this.ty=ty3||0;return this}},{key:"invert",value:function invert(){var a1=this.a;var b1=this.b;var c1=this.c;var d1=this.d;var tx1=this.tx;var n=a1*d1-b1*c1;this.a=d1/n;this.b=-b1/n;this.c=-c1/n;this.d=a1/n;this.tx=(c1*this.ty-d1*tx1)/n;this.ty=-(a1*this.ty-b1*tx1)/n;return this}},{key:"copy",value:function copy(matrix){return this.setValues(matrix.a,matrix.b,matrix.c,matrix.d,matrix.tx,matrix.ty)}}]);return $fbbd60cc0608b3d1$var$$31bedce70ad6a922$var$Matrix2D}();$fbbd60cc0608b3d1$var$$31bedce70ad6a922$var$Matrix2D.decompose=function(a,b,c,d,tx,ty,transform){var skewX=-Math.atan2(-c,d);var skewY=Math.atan2(b,a);var delta=Math.abs(skewX+skewY);if(delta<1e-5||Math.abs($fbbd60cc0608b3d1$var$$31bedce70ad6a922$var$PI_2-delta)<1e-5){transform.rotation=skewY;if(a<0&&d>=0)transform.rotation+=transform.rotation<=0?Math.PI:-Math.PI;transform.skewX=transform.skewY=0}else{transform.rotation=0;transform.skewX=skewX;transform.skewY=skewY}transform.scaleX=Math.sqrt(a*a+b*b);transform.scaleY=Math.sqrt(c*c+d*d);transform.x=tx;transform.y=ty};var $fbbd60cc0608b3d1$var$$31bedce70ad6a922$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$31bedce70ad6a922$var$Matrix2D;var $fbbd60cc0608b3d1$var$$4ca6ae723696d7dd$export$2e2bcd8739ae039={stagePropagationStopped:{}};var $fbbd60cc0608b3d1$var$$28a4d199fa5cc88d$var$EventDispatcher=function(){"use strict";function $fbbd60cc0608b3d1$var$$28a4d199fa5cc88d$var$EventDispatcher(){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$28a4d199fa5cc88d$var$EventDispatcher);this._listeners=null;this._captureListeners=null}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$28a4d199fa5cc88d$var$EventDispatcher,[{key:"addEventListener",value:function addEventListener(type,listener,useCapture){var listeners;if(useCapture)listeners=this._captureListeners=this._captureListeners||{};else listeners=this._listeners=this._listeners||{};var arr=listeners[type];if(arr)this.removeEventListener(type,listener,useCapture);arr=listeners[type];if(!arr)listeners[type]=[listener];else arr.push(listener);return listener}},{key:"removeEventListener",value:function removeEventListener(type1,listener1,useCapture1){var listeners=useCapture1?this._captureListeners:this._listeners;if(!listeners)return;var arr=listeners[type1];if(!arr)return;arr.every((function(item,index){if(item===listener1){arr.splice(index,1);return false}return true}))}},{key:"on",value:function on(type2,listener2,useCapture2){this.addEventListener(type2,listener2,useCapture2)}},{key:"off",value:function off(type3,listener3,useCapture3){this.removeEventListener(type3,listener3,useCapture3)}},{key:"dispatchEvent",value:function dispatchEvent(evt){$fbbd60cc0608b3d1$var$$4ca6ae723696d7dd$export$2e2bcd8739ae039.stagePropagationStopped[evt.type]=false;var top=this,list=[top];while(top.parent)list.push(top=top.parent);var i,l=list.length;for(i=l-1;i>=0&&!evt.propagationStopped;i--)list[i]._dispatchEvent(evt,0);for(i=0;i<l&&!evt.propagationStopped;i++)list[i]._dispatchEvent(evt,1)}},{key:"_dispatchEvent",value:function _dispatchEvent(evt1,type4){evt1.target=this;if(this._captureListeners&&type4===0){var _this=this;var cls=this._captureListeners[evt1.type];cls&&cls.forEach((function(fn){fn.call(_this,evt1)}))}if(this._listeners&&type4===1){var _this1=this;var ls=this._listeners[evt1.type];ls&&ls.forEach((function(fn){fn.call(_this1,evt1)}))}}}]);return $fbbd60cc0608b3d1$var$$28a4d199fa5cc88d$var$EventDispatcher}();var $fbbd60cc0608b3d1$var$$28a4d199fa5cc88d$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$28a4d199fa5cc88d$var$EventDispatcher;var $fbbd60cc0608b3d1$var$$d6d493701ed603e9$var$UID={};$fbbd60cc0608b3d1$var$$d6d493701ed603e9$var$UID._nextID=0;$fbbd60cc0608b3d1$var$$d6d493701ed603e9$var$UID.get=function(){return $fbbd60cc0608b3d1$var$$d6d493701ed603e9$var$UID._nextID++};var $fbbd60cc0608b3d1$var$$d6d493701ed603e9$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$d6d493701ed603e9$var$UID;var $fbbd60cc0608b3d1$var$$6e6aa34d401012e1$var$DisplayObject=function($28a4d199fa5cc88d$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$6e6aa34d401012e1$var$DisplayObject,$28a4d199fa5cc88d$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$6e6aa34d401012e1$var$DisplayObject(){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$6e6aa34d401012e1$var$DisplayObject);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$6e6aa34d401012e1$var$DisplayObject).call(this));_this.alpha=_this.complexAlpha=_this.scaleX=_this.scaleY=1;_this.x=_this.y=_this.rotation=_this.skewX=_this.skewY=_this.originX=_this.originY=0;_this.cursor=null;_this.visible=true;_this._matrix=new $fbbd60cc0608b3d1$var$$31bedce70ad6a922$export$2e2bcd8739ae039;_this._hitMatrix=new $fbbd60cc0608b3d1$var$$31bedce70ad6a922$export$2e2bcd8739ae039;_this.id=$fbbd60cc0608b3d1$var$$d6d493701ed603e9$export$2e2bcd8739ae039.get();_this.clipGraphics=null;_this.clipRuleNonzero=true;_this.fixed=false;_this.shadow=null;_this.compositeOperation=null;_this.absClipGraphics=null;_this.absClipRuleNonzero=true;_this.cacheUpdating=false;try{Object.defineProperties($ftNz4$swchelpers.assertThisInitialized(_this),{stage:{get:_this._getStage},scale:{get:function get(){return _this.scaleX},set:function set(scale){_this.scaleX=_this.scaleY=scale}}})}catch(e){}_this.hitBox=null;return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$6e6aa34d401012e1$var$DisplayObject,[{key:"isVisible",value:function isVisible(){return this.visible&&this.alpha>0&&this.scaleX!==0&&this.scaleY!==0}},{key:"initAABB",value:function initAABB(){if((this.width===undefined||this.height===undefined)&&!this.hitBox)return;var x,y,width=this.width,height=this.height,mtx=this._matrix,tx=mtx.tx,ty=mtx.ty;if(this.hitBox){width=this.hitBox[2];height=this.hitBox[3];tx=this.hitBox[0]*mtx.a+this.hitBox[1]*mtx.c+tx;ty=this.hitBox[0]*mtx.b+this.hitBox[1]*mtx.d+ty}var xA=width*mtx.a,xB=width*mtx.b,yC=height*mtx.c,yD=height*mtx.d,minX=tx,maxX=tx,minY=ty,maxY=ty;if((x=xA+tx)<minX)minX=x;else if(x>maxX)maxX=x;if((x=xA+yC+tx)<minX)minX=x;else if(x>maxX)maxX=x;if((x=yC+tx)<minX)minX=x;else if(x>maxX)maxX=x;if((y=xB+ty)<minY)minY=y;else if(y>maxY)maxY=y;if((y=xB+yD+ty)<minY)minY=y;else if(y>maxY)maxY=y;if((y=yD+ty)<minY)minY=y;else if(y>maxY)maxY=y;this.AABB=[minX,minY,maxX-minX,maxY-minY];this.rectPoints=[{x:tx,y:ty},{x:xA+tx,y:xB+ty},{x:xA+yC+tx,y:xB+yD+ty},{x:yC+tx,y:yD+ty}]}},{key:"destroy",value:function destroy(){this.parent.remove(this)}},{key:"hover",value:function hover(over,out,move){this.on("mouseover",over);this.on("mouseout",out);move&&this.on("mousemove",move)}},{key:"clip",value:function clip(graphics,notClipRuleNonzero){this.clipGraphics=graphics;this.clipRuleNonzero=!notClipRuleNonzero}},{key:"unclip",value:function unclip(){this.clipGraphics=null}},{key:"absClip",value:function absClip(graphics1,notClipRuleNonzero1){this.absClipGraphics=graphics1;this.absClipRuleNonzero=!notClipRuleNonzero1}},{key:"unAbsClip",value:function unAbsClip(){this.absClipGraphics=null}},{key:"cache",value:function cache(x,y,width,height,scale,cacheUpdating){this._cacheData={x:x||0,y:y||0,width:width||this.width,height:height||this.height,scale:scale||1};this.cacheUpdating=cacheUpdating;if(!this.cacheCanvas){if(typeof wx!=="undefined"&&wx.createCanvas)this.cacheCanvas=wx.createCanvas();else this.cacheCanvas=document.createElement("canvas");this.cacheCtx=this.cacheCanvas.getContext("2d")}this.cacheCanvas.width=this._cacheData.width*this._cacheData.scale;this.cacheCanvas.height=this._cacheData.height*this._cacheData.scale;this._readyToCache=true}},{key:"uncache",value:function uncache(){this.cacheCanvas=null}},{key:"filter",value:function filter(filterName,filterBox){filterBox=Object.assign({},{x:0,y:0,width:this.width,height:this.height},filterBox);this.cache(filterBox.x,filterBox.y,filterBox.width,filterBox.height);this._readyToFilter=true;this._filterName=filterName}},{key:"setTransform",value:function setTransform(x1,y1,scaleX,scaleY,rotation,skewX,skewY,originX,originY){this.x=x1||0;this.y=y1||0;this.scaleX=scaleX==null?1:scaleX;this.scaleY=scaleY==null?1:scaleY;this.rotation=rotation||0;this.skewX=skewX||0;this.skewY=skewY||0;this.originX=originX||0;this.originY=originY||0}},{key:"setMatrix",value:function setMatrix(a,b,c,d,tx,ty){$fbbd60cc0608b3d1$var$$31bedce70ad6a922$export$2e2bcd8739ae039.decompose(a,b,c,d,tx,ty,this)}},{key:"unfilter",value:function unfilter(){this.uncache()}},{key:"_getStage",value:function _getStage(){var o=this;while(o.parent)o=o.parent;if(o.___instanceof==="Stage")return o;return null}}]);return $fbbd60cc0608b3d1$var$$6e6aa34d401012e1$var$DisplayObject}($fbbd60cc0608b3d1$var$$28a4d199fa5cc88d$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$6e6aa34d401012e1$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$6e6aa34d401012e1$var$DisplayObject;var $fbbd60cc0608b3d1$var$$e47fc926a6af8e36$var$Group=function($6e6aa34d401012e1$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$e47fc926a6af8e36$var$Group,$6e6aa34d401012e1$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$e47fc926a6af8e36$var$Group(data){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$e47fc926a6af8e36$var$Group);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$e47fc926a6af8e36$var$Group).call(this,data));_this.children=[];return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$e47fc926a6af8e36$var$Group,[{key:"add",value:function add(child3){var len=arguments.length;for(var i=0;i<len;i++){var c=arguments[i];var parent=c.parent;if(parent)parent.removeChildAt(parent.children.indexOf(c));this.children.push(c);c.parent=this}}},{key:"addChildAt",value:function addChildAt(child1,index){var par=child1.parent;par&&par.removeChildAt(par.children.indexOf(child1));child1.parent=this;this.children.splice(index,0,child1)}},{key:"removeChildAt",value:function removeChildAt(index1){var child=this.children[index1];if(child)child.parent=null;this.children.splice(index1,1)}},{key:"replace",value:function replace(current,pre){var index=pre.parent.children.indexOf(pre);this.removeChildAt(index);this.addChildAt(current,index)}},{key:"remove",value:function remove(child2){var len=arguments.length;var cLen=this.children.length;for(var i=0;i<len;i++){for(var j=0;j<cLen;j++)if(child2.id===this.children[j].id){child2.parent=null;this.children.splice(j,1);j--;cLen--}}}},{key:"empty",value:function empty(){this.children.forEach((function(child){child.parent=null}));this.children.length=0}},{key:"destroy",value:function destroy(){this.empty();this.parent&&$ftNz4$swchelpers.get($ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$e47fc926a6af8e36$var$Group.prototype),"destroy",this).call(this)}}]);return $fbbd60cc0608b3d1$var$$e47fc926a6af8e36$var$Group}($fbbd60cc0608b3d1$var$$6e6aa34d401012e1$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$e47fc926a6af8e36$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$e47fc926a6af8e36$var$Group;var $fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$var$assMap={fillStyle:true,strokeStyle:true,lineWidth:true,lineCap:true,lineDashOffset:true,lineJoin:true,miterLimit:true};var $fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$var$Graphics=function($6e6aa34d401012e1$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$var$Graphics,$6e6aa34d401012e1$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$var$Graphics(){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$var$Graphics);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$var$Graphics).call(this));_this.cmds=[];_this.currentGradient=null;return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$var$Graphics,[{key:"clearRect",value:function clearRect(){this.cmds.push(["clearRect",arguments]);return this}},{key:"rect",value:function rect(){this.cmds.push(["rect",arguments]);return this}},{key:"clear",value:function clear(){this.cmds.length=0;return this}},{key:"setLineDash",value:function setLineDash(){this.cmds.push(["setLineDash",arguments]);return this}},{key:"strokeRect",value:function strokeRect(){this.cmds.push(["strokeRect",arguments]);return this}},{key:"fillRect",value:function fillRect(){this.cmds.push(["fillRect",arguments]);return this}},{key:"beginPath",value:function beginPath(){this.cmds.push(["beginPath",arguments]);return this}},{key:"arc",value:function arc(){this.cmds.push(["arc",arguments]);return this}},{key:"closePath",value:function closePath(){this.cmds.push(["closePath",arguments]);return this}},{key:"fillStyle",value:function fillStyle(){this.cmds.push(["fillStyle",arguments]);return this}},{key:"fill",value:function fill(){this.cmds.push(["fill",arguments]);return this}},{key:"strokeStyle",value:function strokeStyle(){this.cmds.push(["strokeStyle",arguments]);return this}},{key:"lineWidth",value:function lineWidth(){this.cmds.push(["lineWidth",arguments]);return this}},{key:"lineCap",value:function lineCap(){this.cmds.push(["lineCap",arguments]);return this}},{key:"lineDashOffset",value:function lineDashOffset(){this.cmds.push(["lineDashOffset",arguments]);return this}},{key:"lineJoin",value:function lineJoin(){this.cmds.push(["lineJoin",arguments]);return this}},{key:"miterLimit",value:function miterLimit(){this.cmds.push(["miterLimit",arguments]);return this}},{key:"stroke",value:function stroke(){this.cmds.push(["stroke",arguments]);return this}},{key:"moveTo",value:function moveTo(){this.cmds.push(["moveTo",arguments]);return this}},{key:"lineTo",value:function lineTo(){this.cmds.push(["lineTo",arguments]);return this}},{key:"bezierCurveTo",value:function bezierCurveTo(){this.cmds.push(["bezierCurveTo",arguments]);return this}},{key:"quadraticCurveTo",value:function quadraticCurveTo(){this.cmds.push(["quadraticCurveTo",arguments]);return this}},{key:"createRadialGradient",value:function createRadialGradient(){this.cmds.push(["createRadialGradient",arguments]);return this}},{key:"createLinearGradient",value:function createLinearGradient(){this.cmds.push(["createLinearGradient",arguments]);return this}},{key:"addColorStop",value:function addColorStop(){this.cmds.push(["addColorStop",arguments]);return this}},{key:"fillGradient",value:function fillGradient(){this.cmds.push(["fillGradient"]);return this}},{key:"arcTo",value:function arcTo(){this.cmds.push(["arcTo",arguments]);return this}},{key:"render",value:function render(ctx){var _this=this;this.cmds.forEach((function(cmd){var methodName=cmd[0];if($fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$var$assMap[methodName])ctx[methodName]=cmd[1][0];else if(methodName==="addColorStop")_this.currentGradient&&_this.currentGradient.addColorStop(cmd[1][0],cmd[1][1]);else if(methodName==="fillGradient")ctx.fillStyle=_this.currentGradient;else{var result=ctx[methodName].apply(ctx,Array.prototype.slice.call(cmd[1]));if(methodName==="createRadialGradient"||methodName==="createLinearGradient")_this.currentGradient=result}}))}}]);return $fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$var$Graphics}($fbbd60cc0608b3d1$var$$6e6aa34d401012e1$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$var$Graphics;var $fbbd60cc0608b3d1$var$$8c28d3fc5f8c0c3e$var$Render=function(){"use strict";function $fbbd60cc0608b3d1$var$$8c28d3fc5f8c0c3e$var$Render(){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$8c28d3fc5f8c0c3e$var$Render)}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$8c28d3fc5f8c0c3e$var$Render,[{key:"render",value:function render(){}},{key:"renderGraphics",value:function renderGraphics(){}},{key:"clear",value:function clear(){}}]);return $fbbd60cc0608b3d1$var$$8c28d3fc5f8c0c3e$var$Render}();var $fbbd60cc0608b3d1$var$$8c28d3fc5f8c0c3e$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$8c28d3fc5f8c0c3e$var$Render;function $fbbd60cc0608b3d1$var$$4b9d8754c86fa455$export$77bc3d6de6658040(img,callback){if(img.indexOf("https://")===-1&&img.indexOf("http://")===-1||img.indexOf("http://tmp/")===0)wx.getImageInfo({src:img,success:function(info){callback({img:img,width:info.width,height:info.height})}});else wx.downloadFile({url:img,success:function(res){if(res.statusCode===200)wx.getImageInfo({src:res.tempFilePath,success:function(info){callback({img:res.tempFilePath,width:info.width,height:info.height})}})}})}function $fbbd60cc0608b3d1$var$$4b9d8754c86fa455$var$getGlobal(){if(typeof $fbbd60cc0608b3d1$var$$parcel$global!=="object"||!$fbbd60cc0608b3d1$var$$parcel$global||$fbbd60cc0608b3d1$var$$parcel$global.Math!==Math||$fbbd60cc0608b3d1$var$$parcel$global.Array!==Array){if(typeof self!=="undefined")return self;else if(typeof window!=="undefined")return window;else if(typeof $fbbd60cc0608b3d1$var$$parcel$global!=="undefined")return $fbbd60cc0608b3d1$var$$parcel$global;return function(){return this}()}return $fbbd60cc0608b3d1$var$$parcel$global}var $fbbd60cc0608b3d1$var$$4b9d8754c86fa455$var$root=$fbbd60cc0608b3d1$var$$4b9d8754c86fa455$var$getGlobal();var $fbbd60cc0608b3d1$var$$4b9d8754c86fa455$export$2e2bcd8739ae039={getImageInWx:$fbbd60cc0608b3d1$var$$4b9d8754c86fa455$export$77bc3d6de6658040,root:$fbbd60cc0608b3d1$var$$4b9d8754c86fa455$var$root,isWeapp:typeof wx!=="undefined"&&typeof Page!=="undefined",isWegame:typeof wx!=="undefined"&&typeof Page==="undefined"};var $fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap=function($6e6aa34d401012e1$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap,$6e6aa34d401012e1$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap(img,onLoad){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap).call(this));if(typeof img==="string"){if($fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap.cache[img]){if($fbbd60cc0608b3d1$var$$4b9d8754c86fa455$export$2e2bcd8739ae039.isWeapp){_this.img=$fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap.cache[img].img;_this.rect=[0,0,$fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap.cache[img].width,$fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap.cache[img].height];_this.width=_this.rect[2];_this.height=_this.rect[3]}else{_this.img=$fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap.cache[img];_this.rect=[0,0,_this.img.width,_this.img.height];_this.width=_this.img.width;_this.height=_this.img.height}onLoad&&onLoad.call($ftNz4$swchelpers.assertThisInitialized(_this))}else if($fbbd60cc0608b3d1$var$$4b9d8754c86fa455$export$2e2bcd8739ae039.isWeapp)$fbbd60cc0608b3d1$var$$4b9d8754c86fa455$export$2e2bcd8739ae039.getImageInWx(img,(function(result){_this.img=result.img;if(!_this.rect)_this.rect=[0,0,result.width,result.height];_this.width=result.width;_this.height=result.height;onLoad&&onLoad.call($ftNz4$swchelpers.assertThisInitialized(_this));$fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap.cache[img]=result}));else{_this.img=$fbbd60cc0608b3d1$var$$4b9d8754c86fa455$export$2e2bcd8739ae039.isWegame?wx.createImage():new window.Image;_this.img.onload=function(){if(!_this.rect)_this.rect=[0,0,_this.img.width,_this.img.height];_this.width=_this.img.width;_this.height=_this.img.height;onLoad&&onLoad.call($ftNz4$swchelpers.assertThisInitialized(_this));$fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap.cache[img]=_this.img};_this.img.src=img}}else{_this.img=img;_this.rect=[0,0,img.width,img.height];_this.width=img.width;_this.height=img.height;$fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap.cache[img.src]=img}return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap,[{key:"clone",value:function clone(){var bitmap=new $fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap(typeof this.img==="string"?this.img:this.img.src);bitmap.x=this.x;bitmap.y=this.y;bitmap.scaleX=this.scaleX;bitmap.scaleY=this.scaleY;bitmap.rotation=this.rotation;bitmap.skewX=this.skewX;bitmap.skewY=this.skewY;bitmap.originX=this.originX;bitmap.originY=this.originY;bitmap.width=this.width;bitmap.height=this.height;bitmap.cursor=this.cursor;return bitmap}}]);return $fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap}($fbbd60cc0608b3d1$var$$6e6aa34d401012e1$export$2e2bcd8739ae039);$fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap.cache={};var $fbbd60cc0608b3d1$var$$9775ae176386021e$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$9775ae176386021e$var$Bitmap;var $fbbd60cc0608b3d1$var$$845c974841b2f010$var$Sprite=function($6e6aa34d401012e1$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$845c974841b2f010$var$Sprite,$6e6aa34d401012e1$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$845c974841b2f010$var$Sprite(option){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$845c974841b2f010$var$Sprite);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$845c974841b2f010$var$Sprite).call(this));_this.option=option;var len=_this.option.imgs.length;var count=0;var firstImg=_this.option.imgs[0];_this.imgMap={};if($fbbd60cc0608b3d1$var$$4b9d8754c86fa455$export$2e2bcd8739ae039.isWeapp)_this.option.imgs.forEach((function(img){$fbbd60cc0608b3d1$var$$4b9d8754c86fa455$export$2e2bcd8739ae039.getImageInWx(img,(function(result){_this.imgMap[img]=result.img;count++;if(count===len){_this.img=_this.imgMap[firstImg];_this.rect=[0,0,0,0]}}))}));else{if(typeof firstImg==="string"){var len1=_this.option.imgs.length;var loadedCount=0;_this.option.imgs.forEach((function(src){if($fbbd60cc0608b3d1$var$$9775ae176386021e$export$2e2bcd8739ae039.cache[src]){_this.imgMap[src]=$fbbd60cc0608b3d1$var$$9775ae176386021e$export$2e2bcd8739ae039.cache[src];loadedCount++;if(loadedCount===len1){_this.img=_this.imgMap[firstImg];_this.rect=[0,0,0,0]}}else{var img=$fbbd60cc0608b3d1$var$$4b9d8754c86fa455$export$2e2bcd8739ae039.isWegame?wx.createImage():new window.Image;img.onload=function(){_this.imgMap[src]=img;loadedCount++;if(loadedCount===len1){_this.img=_this.imgMap[firstImg];_this.rect=[0,0,0,0]}$fbbd60cc0608b3d1$var$$9775ae176386021e$export$2e2bcd8739ae039.cache[src]=img};img.src=src}}))}else if(firstImg instanceof $fbbd60cc0608b3d1$var$$9775ae176386021e$export$2e2bcd8739ae039){_this.rect=[0,0,0,0];_this.img=firstImg.img}else{_this.rect=[0,0,0,0];_this.img=firstImg}}_this.x=option.x||0;_this.y=option.y||0;_this.currentFrameIndex=0;_this.animationFrameIndex=0;_this.currentAnimation=option.currentAnimation||null;_this.interval=1e3/option.framerate;_this.paused=false;_this.animationEnd=option.animationEnd||function(){};if(_this.currentAnimation){if(option.playOnce)_this.gotoAndPlayOnce(_this.currentAnimation);else _this.gotoAndPlay(_this.currentAnimation)}return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$845c974841b2f010$var$Sprite,[{key:"play",value:function play(){this.paused=false}},{key:"pause",value:function pause(){this.paused=true}},{key:"reset",value:function reset(){this.currentFrameIndex=0;this.animationFrameIndex=0}},{key:"updateFrame",value:function updateFrame(){if(!this.paused){var opt=this.option;this.dt=Date.now()-this.startTime;var frames=opt.animations[this.currentAnimation].frames;var len=frames.length;var index=Math.floor(this.dt/this.interval%len);this.rect=opt.frames[frames[index]];var rectLen=this.rect.length;rectLen>4&&(this.originX=this.rect[2]*this.rect[4]);rectLen>5&&(this.originY=this.rect[3]*this.rect[5]);if(rectLen>6){var img=this.option.imgs[this.rect[6]];this.img=typeof img==="string"?this.imgMap[img]:img}if(index===len-1&&(!this.endTime||Date.now()-this.endTime>this.interval)){this.endTime=Date.now();this.animationEnd();if(this._willDestroy)this.destroy()}}}},{key:"gotoAndPlay",value:function gotoAndPlay(animation){this.paused=false;this.reset();this.currentAnimation=animation;this.startTime=Date.now()}},{key:"gotoAndStop",value:function gotoAndStop(animation1){this.reset();this.paused=true;this.currentAnimation=animation1;var opt=this.option;var frames=opt.animations[this.currentAnimation].frames;this.rect=opt.frames[frames[this.animationFrameIndex]];var rect=this.rect;this.width=rect[2];this.height=rect[3];var rectLen=rect.length;rectLen>4&&(this.originX=rect[2]*rect[4]);rectLen>5&&(this.originY=rect[3]*rect[5]);if(rectLen>6){var img=this.option.imgs[rect[6]];this.img=typeof img==="string"?this.imgMap[img]:img}}},{key:"gotoAndPlayOnce",value:function gotoAndPlayOnce(animation2){this.gotoAndPlay(animation2);this._willDestroy=true}}]);return $fbbd60cc0608b3d1$var$$845c974841b2f010$var$Sprite}($fbbd60cc0608b3d1$var$$6e6aa34d401012e1$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$845c974841b2f010$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$845c974841b2f010$var$Sprite;var $fbbd60cc0608b3d1$var$$45cf6d178e2acada$var$measureCtx;if($fbbd60cc0608b3d1$var$$4b9d8754c86fa455$export$2e2bcd8739ae039.isWeapp)$fbbd60cc0608b3d1$var$$45cf6d178e2acada$var$measureCtx=wx.createCanvasContext("measure0");else if(typeof document!=="undefined")$fbbd60cc0608b3d1$var$$45cf6d178e2acada$var$measureCtx=document.createElement("canvas").getContext("2d");var $fbbd60cc0608b3d1$var$$45cf6d178e2acada$var$Text=function($6e6aa34d401012e1$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$45cf6d178e2acada$var$Text,$6e6aa34d401012e1$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$45cf6d178e2acada$var$Text(text,option){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$45cf6d178e2acada$var$Text);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$45cf6d178e2acada$var$Text).call(this));_this.text=text;option=option||{};_this.font=option.font||"10px sans-serif";_this.color=option.color||"black";_this.textAlign=option.textAlign||"left";_this.baseline=option.baseline||"top";_this.stroke=option.stroke||"";return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$45cf6d178e2acada$var$Text,[{key:"getWidth",value:function getWidth(){if(!$fbbd60cc0608b3d1$var$$45cf6d178e2acada$var$measureCtx){if($fbbd60cc0608b3d1$var$$4b9d8754c86fa455$export$2e2bcd8739ae039.isWegame)$fbbd60cc0608b3d1$var$$45cf6d178e2acada$var$measureCtx=wx.createCanvas().getContext("2d")}if(this.font)$fbbd60cc0608b3d1$var$$45cf6d178e2acada$var$measureCtx.font=this.font;return $fbbd60cc0608b3d1$var$$45cf6d178e2acada$var$measureCtx.measureText(this.text).width}}]);return $fbbd60cc0608b3d1$var$$45cf6d178e2acada$var$Text}($fbbd60cc0608b3d1$var$$6e6aa34d401012e1$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$45cf6d178e2acada$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$45cf6d178e2acada$var$Text;function $fbbd60cc0608b3d1$var$$e97ce35fc7555aed$export$6897c284b6f9f4dc(pixels,ratio){var d=pixels.data;ratio=ratio===undefined?1:ratio;for(var i=0;i<d.length;i+=4){d[i]=d[i]+ratio*(255-2*d[i]);d[i+1]=d[i+1]+ratio*(255-2*d[i+1]);d[i+2]=d[i+2]+ratio*(255-2*d[i+2])}return pixels}var $fbbd60cc0608b3d1$var$$8823adc769bb8453$var$tmpCtx=null;if(typeof document!=="undefined")$fbbd60cc0608b3d1$var$$8823adc769bb8453$var$tmpCtx=document.createElement("canvas").getContext("2d");else if(typeof wx!=="undefined"&&wx.createCanvas)$fbbd60cc0608b3d1$var$$8823adc769bb8453$var$tmpCtx=wx.createCanvas().getContext("2d");function $fbbd60cc0608b3d1$var$$8823adc769bb8453$export$ad40c38a6f41c9cf(w,h){return $fbbd60cc0608b3d1$var$$8823adc769bb8453$var$tmpCtx.createImageData(w,h)}function $fbbd60cc0608b3d1$var$$732c1c284a072bd6$export$2cc7ff91bcacba5e(pixels,diameter){diameter=Math.abs(diameter);if(diameter<=1)return pixels;var radius=diameter/2;var len=Math.ceil(diameter)+(1-Math.ceil(diameter)%2);var weights=new Float32Array(len);var rho=(radius+.5)/3;var rhoSq=rho*rho;var gaussianFactor=1/Math.sqrt(2*Math.PI*rhoSq);var rhoFactor=-1/(2*rho*rho);var wsum=0;var middle=Math.floor(len/2);for(var i=0;i<len;i++){var x=i-middle;var gx=gaussianFactor*Math.exp(x*x*rhoFactor);weights[i]=gx;wsum+=gx}for(var i=0;i<weights.length;i++)weights[i]/=wsum;return $fbbd60cc0608b3d1$var$$732c1c284a072bd6$var$separableConvolve(pixels,weights,weights,false)}function $fbbd60cc0608b3d1$var$$732c1c284a072bd6$var$separableConvolve(pixels,horizWeights,vertWeights,opaque){return $fbbd60cc0608b3d1$var$$732c1c284a072bd6$var$horizontalConvolve($fbbd60cc0608b3d1$var$$732c1c284a072bd6$var$verticalConvolve(pixels,vertWeights,opaque),horizWeights,opaque)}function $fbbd60cc0608b3d1$var$$732c1c284a072bd6$var$horizontalConvolve(pixels,weightsVector,opaque){var side=weightsVector.length;var halfSide=Math.floor(side/2);var src=pixels.data;var sw=pixels.width;var sh=pixels.height;var w=sw;var h=sh;var output=$fbbd60cc0608b3d1$var$$8823adc769bb8453$export$ad40c38a6f41c9cf(w,h);var dst=output.data;var alphaFac=opaque?1:0;for(var y=0;y<h;y++)for(var x=0;x<w;x++){var sy=y;var sx=x;var dstOff=(y*w+x)*4;var r=0,g=0,b=0,a=0;for(var cx=0;cx<side;cx++){var scy=sy;var scx=Math.min(sw-1,Math.max(0,sx+cx-halfSide));var srcOff=(scy*sw+scx)*4;var wt=weightsVector[cx];r+=src[srcOff]*wt;g+=src[srcOff+1]*wt;b+=src[srcOff+2]*wt;a+=src[srcOff+3]*wt}dst[dstOff]=r;dst[dstOff+1]=g;dst[dstOff+2]=b;dst[dstOff+3]=a+alphaFac*(255-a)}return output}function $fbbd60cc0608b3d1$var$$732c1c284a072bd6$var$verticalConvolve(pixels,weightsVector,opaque){var side=weightsVector.length;var halfSide=Math.floor(side/2);var src=pixels.data;var sw=pixels.width;var sh=pixels.height;var w=sw;var h=sh;var output=$fbbd60cc0608b3d1$var$$8823adc769bb8453$export$ad40c38a6f41c9cf(w,h);var dst=output.data;var alphaFac=opaque?1:0;for(var y=0;y<h;y++)for(var x=0;x<w;x++){var sy=y;var sx=x;var dstOff=(y*w+x)*4;var r=0,g=0,b=0,a=0;for(var cy=0;cy<side;cy++){var scy=Math.min(sh-1,Math.max(0,sy+cy-halfSide));var scx=sx;var srcOff=(scy*sw+scx)*4;var wt=weightsVector[cy];r+=src[srcOff]*wt;g+=src[srcOff+1]*wt;b+=src[srcOff+2]*wt;a+=src[srcOff+3]*wt}dst[dstOff]=r;dst[dstOff+1]=g;dst[dstOff+2]=b;dst[dstOff+3]=a+alphaFac*(255-a)}return output}function $fbbd60cc0608b3d1$var$$a3f2202ccfd3d1a2$export$a9ff8c324fa29d66(pixels,adjustment){var data=pixels.data;var length=data.length;for(var i=0;i<length;i+=4){data[i]+=adjustment;data[i+1]+=adjustment;data[i+2]+=adjustment}return pixels}function $fbbd60cc0608b3d1$var$$0d2f74a94560bd8f$export$1ec78ac20028ebd4(pixels,contrast){var data=pixels.data;var length=data.length;var factor=259*(contrast+255)/(255*(259-contrast));for(var i=0;i<length;i+=4){data[i]=factor*(data[i]-128)+128;data[i+1]=factor*(data[i+1]-128)+128;data[i+2]=factor*(data[i+2]-128)+128}return pixels}function $fbbd60cc0608b3d1$var$$6c302fe7fd9a4778$export$6f416a6db2dfcd5c(pixels,adjustment){var data=pixels.data;var length=data.length;for(var i=0;i<length;i+=4){var r=data[i];var g=data[i+1];var b=data[i+2];var v=.2126*r+.7152*g+.0722*b;data[i]=r+(v-r)*adjustment;data[i+1]=g+(v-g)*adjustment;data[i+2]=b+(v-b)*adjustment}return pixels}function $fbbd60cc0608b3d1$var$$fad325ef85118489$export$b385d4aa7dfee696(pixels,adjustment){var data=pixels.data;var length=data.length;for(var i=0;i<length;i+=4){var r=data[i];var g=data[i+1];var b=data[i+2];var sr=r*.393+g*.769+b*.189;var sg=r*.349+g*.686+b*.168;var sb=r*.272+g*.534+b*.131;data[i]=r+(sr-r)*adjustment;data[i+1]=g+(sg-g)*adjustment;data[i+2]=b+(sb-b)*adjustment}return pixels}function $fbbd60cc0608b3d1$var$$a79a4c718f899d45$export$454d09aca5f3ea63(pixels,threshold){var data=pixels.data;var length=data.length;for(var i=0;i<length;i+=4){var r=data[i];var g=data[i+1];var b=data[i+2];var v=.2126*r+.7152*g+.0722*b>=threshold?255:0;data[i]=data[i+1]=data[i+2]=v}return pixels}function $fbbd60cc0608b3d1$var$$465a9b9bc9cf8fa5$export$a7ebe8cc6aaf8d37(pixels,adjustment){var data=pixels.data;var length=data.length;for(var i=0;i<length;i+=4){data[i]=Math.pow(data[i]/255,adjustment)*255;data[i+1]=Math.pow(data[i+1]/255,adjustment)*255;data[i+2]=Math.pow(data[i+2]/255,adjustment)*255}return pixels}function $fbbd60cc0608b3d1$var$$9ae6d77ee604b688$export$dadab79c8a5157c0(pixels,option){var data=pixels.data;var length=data.length;var hex=option.color.charAt(0)==="#"?option.color.substr(1):option.color;var colorRGB={r:parseInt(hex.substr(0,2),16),g:parseInt(hex.substr(2,2),16),b:parseInt(hex.substr(4,2),16)};for(var i=0;i<length;i+=4){data[i]-=(data[i]-colorRGB.r)*option.amount;data[i+1]-=(data[i+1]-colorRGB.g)*option.amount;data[i+2]-=(data[i+2]-colorRGB.b)*option.amount}return pixels}function $fbbd60cc0608b3d1$var$$ec07b44d2596512e$export$3dea766d36a8935f(pixels,name){if(typeof name==="string"){var type=name.split("(")[0];var num=$fbbd60cc0608b3d1$var$$ec07b44d2596512e$var$getNumber(name);switch(type){case"invert":return $fbbd60cc0608b3d1$var$$e97ce35fc7555aed$export$6897c284b6f9f4dc(pixels,num);case"brightness":return $fbbd60cc0608b3d1$var$$a3f2202ccfd3d1a2$export$a9ff8c324fa29d66(pixels,-255+num*255);case"blur":return $fbbd60cc0608b3d1$var$$732c1c284a072bd6$export$2cc7ff91bcacba5e(pixels,num);case"contrast":return $fbbd60cc0608b3d1$var$$0d2f74a94560bd8f$export$1ec78ac20028ebd4(pixels,-255+num*255);case"grayscale":return $fbbd60cc0608b3d1$var$$6c302fe7fd9a4778$export$6f416a6db2dfcd5c(pixels,num);case"sepia":return $fbbd60cc0608b3d1$var$$fad325ef85118489$export$b385d4aa7dfee696(pixels,num);case"threshold":return $fbbd60cc0608b3d1$var$$a79a4c718f899d45$export$454d09aca5f3ea63(pixels,num);case"gamma":return $fbbd60cc0608b3d1$var$$465a9b9bc9cf8fa5$export$a7ebe8cc6aaf8d37(pixels,num)}}else switch(name.type){case"colorize":return $fbbd60cc0608b3d1$var$$9ae6d77ee604b688$export$dadab79c8a5157c0(pixels,name)}}function $fbbd60cc0608b3d1$var$$ec07b44d2596512e$var$getNumber(str){str=str.replace(/(invert)|(brightness)|(blur)|(contrast)|(grayscale)|(sepia)|(threshold)|(gamma)?\(/g,"").replace(")","");if(str.indexOf("%")!==-1)return Number(str.replace("%",""))/100;else if(str.indexOf("px")!==-1)return Number(str.replace("px",""));else return Number(str)}var $fbbd60cc0608b3d1$var$$527bd1b5168ebdb6$var$CanvasRender=function($8c28d3fc5f8c0c3e$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$527bd1b5168ebdb6$var$CanvasRender,$8c28d3fc5f8c0c3e$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$527bd1b5168ebdb6$var$CanvasRender(canvasOrContext,width,height){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$527bd1b5168ebdb6$var$CanvasRender);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$527bd1b5168ebdb6$var$CanvasRender).call(this));if(arguments.length===3){_this.ctx=canvasOrContext;_this.width=width;_this.height=height}else{_this.ctx=canvasOrContext.getContext("2d");_this.width=canvasOrContext.width;_this.height=canvasOrContext.height}return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$527bd1b5168ebdb6$var$CanvasRender,[{key:"clear",value:function clear(ctx,width1,height1){ctx.clearRect(0,0,width1,height1)}},{key:"render",value:function render(ctx1,o,cacheData){var mtx=o._matrix;if(o.children){var list=o.children.slice(0),l=list.length;for(var i=0;i<l;i++){var child=list[i];mtx.initialize(1,0,0,1,0,0);mtx.appendTransform(o.x,o.y,o.scaleX,o.scaleY,o.rotation,o.skewX,o.skewY,o.originX,o.originY);ctx1.save();this._render(ctx1,child,cacheData?null:mtx,cacheData,true);ctx1.restore()}}else this._render(ctx1,o,cacheData?null:mtx,cacheData)}},{key:"_render",value:function _render(ctx2,o1,mtx,cacheData1,inGroup){if(!o1.isVisible())return;if(mtx&&!o1.fixed)o1._matrix.initialize(mtx.a,mtx.b,mtx.c,mtx.d,mtx.tx,mtx.ty);else if(cacheData1&&!o1.fixed)o1._matrix.initialize(cacheData1.scale,0,0,cacheData1.scale,cacheData1.x*-1,cacheData1.y*-1);else o1._matrix.initialize(1,0,0,1,0,0);mtx=o1._matrix;if(inGroup||!cacheData1)mtx.appendTransform(o1.x,o1.y,o1.scaleX,o1.scaleY,o1.rotation,o1.skewX,o1.skewY,o1.originX,o1.originY);var ocg=o1.clipGraphics;if(ocg){ctx2.beginPath();ocg._matrix.copy(mtx);ocg._matrix.appendTransform(ocg.x,ocg.y,ocg.scaleX,ocg.scaleY,ocg.rotation,ocg.skewX,ocg.skewY,ocg.originX,ocg.originY);ctx2.setTransform(ocg._matrix.a,ocg._matrix.b,ocg._matrix.c,ocg._matrix.d,ocg._matrix.tx,ocg._matrix.ty);ocg.render(ctx2);ctx2.clip(o1.clipRuleNonzero?"nonzero":"evenodd")}var oacg=o1.absClipGraphics;if(oacg){ctx2.beginPath();oacg._matrix.initialize(1,0,0,1,0,0);oacg._matrix.appendTransform(oacg.x,oacg.y,oacg.scaleX,oacg.scaleY,oacg.rotation,oacg.skewX,oacg.skewY,oacg.originX,oacg.originY);ctx2.setTransform(oacg._matrix.a,oacg._matrix.b,oacg._matrix.c,oacg._matrix.d,oacg._matrix.tx,oacg._matrix.ty);oacg.render(ctx2);ctx2.clip(o1.absClipRuleNonzero?"nonzero":"evenodd")}ctx2.setTransform(mtx.a,mtx.b,mtx.c,mtx.d,mtx.tx,mtx.ty);if(o1._readyToCache||o1.cacheUpdating){this.setComplexProps(ctx2,o1);o1._readyToCache=false;o1.cacheCtx.clearRect(0,0,o1.cacheCanvas.width,o1.cacheCanvas.height);o1.cacheCtx.save();this.render(o1.cacheCtx,o1,o1._cacheData);o1.cacheCtx.restore();if(o1._readyToFilter){o1.cacheCtx.putImageData($fbbd60cc0608b3d1$var$$ec07b44d2596512e$export$3dea766d36a8935f(o1.cacheCtx.getImageData(0,0,o1.cacheCanvas.width,o1.cacheCanvas.height),o1._filterName),0,0);this._readyToFilter=false}ctx2.drawImage(o1.cacheCanvas,o1._cacheData.x,o1._cacheData.y)}else if(o1.cacheCanvas&&!cacheData1){this.setComplexProps(ctx2,o1);ctx2.drawImage(o1.cacheCanvas,o1._cacheData.x,o1._cacheData.y)}else if(o1 instanceof $fbbd60cc0608b3d1$var$$e47fc926a6af8e36$export$2e2bcd8739ae039){var list=o1.children.slice(0),l=list.length;for(var i=0;i<l;i++){ctx2.save();this._render(ctx2,list[i],mtx);ctx2.restore()}}else if(o1 instanceof $fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$export$2e2bcd8739ae039){this.setComplexProps(ctx2,o1);o1.render(ctx2)}else if(o1 instanceof $fbbd60cc0608b3d1$var$$845c974841b2f010$export$2e2bcd8739ae039&&o1.rect){this.setComplexProps(ctx2,o1);o1.updateFrame();var rect=o1.rect;ctx2.drawImage(o1.img,rect[0],rect[1],rect[2],rect[3],0,0,rect[2],rect[3])}else if(o1 instanceof $fbbd60cc0608b3d1$var$$9775ae176386021e$export$2e2bcd8739ae039&&o1.rect){this.setComplexProps(ctx2,o1);var bRect=o1.rect;ctx2.drawImage(o1.img,bRect[0],bRect[1],bRect[2],bRect[3],0,0,bRect[2],bRect[3])}else if(o1 instanceof $fbbd60cc0608b3d1$var$$45cf6d178e2acada$export$2e2bcd8739ae039){this.setComplexProps(ctx2,o1);ctx2.font=o1.font;ctx2.textAlign=o1.textAlign;ctx2.textBaseline=o1.baseline;if(o1.stroke){ctx2.strokeStyle=o1.stroke;ctx2.strokeText(o1.text,0,0)}ctx2.fillStyle=o1.color;ctx2.fillText(o1.text,0,0)}}},{key:"setComplexProps",value:function setComplexProps(ctx3,o2){o2.complexCompositeOperation=ctx3.globalCompositeOperation=this.getCompositeOperation(o2);o2.complexAlpha=ctx3.globalAlpha=this.getAlpha(o2,1);o2.complexShadow=this.getShadow(o2);if(o2.complexShadow){ctx3.shadowColor=o2.complexShadow.color;ctx3.shadowOffsetX=o2.complexShadow.offsetX;ctx3.shadowOffsetY=o2.complexShadow.offsetY;ctx3.shadowBlur=o2.complexShadow.blur}}},{key:"getCompositeOperation",value:function getCompositeOperation(o3){if(o3.compositeOperation)return o3.compositeOperation;if(o3.parent)return this.getCompositeOperation(o3.parent)}},{key:"getAlpha",value:function getAlpha(o4,alpha){var result=o4.alpha*alpha;if(o4.parent)return this.getAlpha(o4.parent,result);return result}},{key:"getShadow",value:function getShadow(o5){if(o5.shadow)return o5.shadow;if(o5.parent)return this.getShadow(o5.parent)}}]);return $fbbd60cc0608b3d1$var$$527bd1b5168ebdb6$var$CanvasRender}($fbbd60cc0608b3d1$var$$8c28d3fc5f8c0c3e$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$527bd1b5168ebdb6$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$527bd1b5168ebdb6$var$CanvasRender;var $fbbd60cc0608b3d1$var$$9af8461b5f8eee4b$var$Renderer=function(){"use strict";function $fbbd60cc0608b3d1$var$$9af8461b5f8eee4b$var$Renderer(canvasOrContext,width,height){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$9af8461b5f8eee4b$var$Renderer);this.renderList=[];if(arguments.length===3){this.renderer=new $fbbd60cc0608b3d1$var$$527bd1b5168ebdb6$export$2e2bcd8739ae039(canvasOrContext,width,height);this.width=width;this.height=height}else{this.renderer=new $fbbd60cc0608b3d1$var$$527bd1b5168ebdb6$export$2e2bcd8739ae039(canvasOrContext);this.width=canvasOrContext.width;this.height=canvasOrContext.height}this.ctx=this.renderer.ctx}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$9af8461b5f8eee4b$var$Renderer,[{key:"update",value:function update(stage){this.renderer.clear(this.ctx,this.width,this.height);this.renderer.render(this.ctx,stage);this.ctx.draw&&this.ctx.draw()}},{key:"getHitRenderList",value:function getHitRenderList(stage1){var objs=this.renderList;objs.length=0;this.computeMatrix(stage1);return objs}},{key:"computeMatrix",value:function computeMatrix(stage2){for(var i=0,len=stage2.children.length;i<len;i++)this._computeMatrix(stage2.children[i])}},{key:"initComplex",value:function initComplex(o){o.complexCompositeOperation=this._getCompositeOperation(o);o.complexAlpha=this._getAlpha(o,1)}},{key:"_computeMatrix",value:function _computeMatrix(o1,mtx){if(!o1.isVisible())return;if(mtx&&!o1.fixed)o1._matrix.initialize(mtx.a,mtx.b,mtx.c,mtx.d,mtx.tx,mtx.ty);else o1._matrix.initialize(1,0,0,1,0,0);o1._matrix.appendTransform(o1.x,o1.y,o1.scaleX,o1.scaleY,o1.rotation,o1.skewX,o1.skewY,o1.originX,o1.originY);if(o1 instanceof $fbbd60cc0608b3d1$var$$e47fc926a6af8e36$export$2e2bcd8739ae039){var list=o1.children,len=list.length,i=0;for(;i<len;i++)this._computeMatrix(list[i],o1._matrix)}else{o1.initAABB();this.renderList.push(o1);this.initComplex(o1)}}},{key:"_getCompositeOperation",value:function _getCompositeOperation(o2){if(o2.compositeOperation)return o2.compositeOperation;if(o2.parent)return this._getCompositeOperation(o2.parent)}},{key:"_getAlpha",value:function _getAlpha(o3,alpha){var result=o3.alpha*alpha;if(o3.parent)return this._getAlpha(o3.parent,result);return result}},{key:"isInStage",value:function isInStage(o4){return this.collisionBetweenAABB(o4.AABB,this.stage.AABB)}},{key:"collisionBetweenAABB",value:function collisionBetweenAABB(AABB1,AABB2){var maxX=AABB1[0]+AABB1[2];if(maxX<AABB2[0])return false;var minX=AABB1[0];if(minX>AABB2[0]+AABB2[2])return false;var maxY=AABB1[1]+AABB1[3];if(maxY<AABB2[1])return false;var minY=AABB1[1];if(minY>AABB2[1]+AABB2[3])return false;return true}}]);return $fbbd60cc0608b3d1$var$$9af8461b5f8eee4b$var$Renderer}();var $fbbd60cc0608b3d1$var$$9af8461b5f8eee4b$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$9af8461b5f8eee4b$var$Renderer;var $fbbd60cc0608b3d1$var$$8beb95fb9b1103f0$var$Event=function(){"use strict";function $fbbd60cc0608b3d1$var$$8beb95fb9b1103f0$var$Event(){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$8beb95fb9b1103f0$var$Event);this.propagationStopped=false;this.stageX=null;this.stageY=null;this.pureEvent=null}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$8beb95fb9b1103f0$var$Event,[{key:"stopPropagation",value:function stopPropagation(){$fbbd60cc0608b3d1$var$$4ca6ae723696d7dd$export$2e2bcd8739ae039.stagePropagationStopped[this.type]=true;this.propagationStopped=true}},{key:"preventDefault",value:function preventDefault(){this.pureEvent.preventDefault()}}]);return $fbbd60cc0608b3d1$var$$8beb95fb9b1103f0$var$Event}();var $fbbd60cc0608b3d1$var$$8beb95fb9b1103f0$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$8beb95fb9b1103f0$var$Event;var $fbbd60cc0608b3d1$var$$733c4474a63f8897$var$HitRender=function($8c28d3fc5f8c0c3e$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$733c4474a63f8897$var$HitRender,$8c28d3fc5f8c0c3e$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$733c4474a63f8897$var$HitRender(){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$733c4474a63f8897$var$HitRender);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$733c4474a63f8897$var$HitRender).call(this));if(typeof wx!=="undefined"&&wx.createCanvas)_this.canvas=wx.createCanvas();else _this.canvas=document.createElement("canvas");_this.canvas.width=1;_this.canvas.height=1;_this.ctx=_this.canvas.getContext("2d");_this.disableEvents=["mouseover","mouseout","mousemove","touchmove"];return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$733c4474a63f8897$var$HitRender,[{key:"clear",value:function clear(){this.ctx.clearRect(0,0,this.width,this.height)}},{key:"hitAABB",value:function hitAABB(o,evt){var list=o.children.slice(0),l=list.length;for(var i=l-1;i>=0;i--){var child=list[i];var path=this._hitAABB(child,evt,[],true);if(path.length>0){var target=path[path.length-1];this._dispatchEvent(target,evt);return target}}}},{key:"_hitAABB",value:function _hitAABB(o1,evt1,path,rootCall){if(o1.ignoreHit||!o1.isVisible())return;o1.initAABB();if(o1.AABB&&this.checkPointInAABB(evt1.stageX,evt1.stageY,o1.AABB)){o1.___$push=true;path.push(o1)}if(o1 instanceof $fbbd60cc0608b3d1$var$$e47fc926a6af8e36$export$2e2bcd8739ae039){var list=o1.children.slice(0),l=list.length;for(var i=l-1;i>=0;i--){var child=list[i];this._hitAABB(child,evt1,path);if(child.___$push){delete child.___$push;break}}}if(rootCall)return path}},{key:"checkPointInAABB",value:function checkPointInAABB(x,y,AABB){var minX=AABB[0];if(x<minX)return false;var minY=AABB[1];if(y<minY)return false;var maxX=minX+AABB[2];if(x>maxX)return false;var maxY=minY+AABB[3];if(y>maxY)return false;return true}},{key:"hitPixel",value:function hitPixel(o2,evt2){var ctx=this.ctx;ctx.clearRect(0,0,2,2);var mtx=o2._hitMatrix;var list=o2.children.slice(0),l=list.length;for(var i=l-1;i>=0;i--){var child=list[i];mtx.initialize(1,0,0,1,0,0);mtx.appendTransform(o2.x-evt2.stageX,o2.y-evt2.stageY,o2.scaleX,o2.scaleY,o2.rotation,o2.skewX,o2.skewY,o2.originX,o2.originY);ctx.save();var target=this._hitPixel(child,evt2,mtx);ctx.restore();if(target)return target}}},{key:"_hitPixel",value:function _hitPixel(o3,evt3,mtx){if(o3.ignoreHit||!o3.isVisible())return;var ctx=this.ctx;if(o3.fixed)o3._hitMatrix.initialize(1,0,0,1,-evt3.stageX,-evt3.stageY);else if(mtx)o3._hitMatrix.initialize(mtx.a,mtx.b,mtx.c,mtx.d,mtx.tx,mtx.ty);else o3._hitMatrix.initialize(1,0,0,1,0,0);mtx=o3._hitMatrix;mtx.appendTransform(o3.x,o3.y,o3.scaleX,o3.scaleY,o3.rotation,o3.skewX,o3.skewY,o3.originX,o3.originY);var ocg=o3.clipGraphics;if(ocg){ctx.beginPath();ocg._matrix.copy(mtx);ocg._matrix.appendTransform(ocg.x,ocg.y,ocg.scaleX,ocg.scaleY,ocg.rotation,ocg.skewX,ocg.skewY,ocg.originX,ocg.originY);ctx.setTransform(ocg._matrix.a,ocg._matrix.b,ocg._matrix.c,ocg._matrix.d,ocg._matrix.tx,ocg._matrix.ty);ocg.render(ctx);ctx.clip(o3.clipRuleNonzero?"nonzero":"evenodd")}var oacg=o3.absClipGraphics;if(oacg){ctx.beginPath();oacg._matrix.initialize(1,0,0,1,0,0);oacg._matrix.appendTransform(oacg.x,oacg.y,oacg.scaleX,oacg.scaleY,oacg.rotation,oacg.skewX,oacg.skewY,oacg.originX,oacg.originY);ctx.setTransform(oacg._matrix.a,oacg._matrix.b,oacg._matrix.c,oacg._matrix.d,oacg._matrix.tx,oacg._matrix.ty);oacg.render(ctx);ctx.clip(o3.absClipRuleNonzero?"nonzero":"evenodd")}if(o3.cacheCanvas){ctx.setTransform(mtx.a,mtx.b,mtx.c,mtx.d,mtx.tx,mtx.ty);ctx.drawImage(o3.cacheCanvas,o3._cacheData.x,o3._cacheData.y)}else if(o3 instanceof $fbbd60cc0608b3d1$var$$e47fc926a6af8e36$export$2e2bcd8739ae039){var list=o3.children.slice(0),l=list.length;for(var i=l-1;i>=0;i--){ctx.save();var target=this._hitPixel(list[i],evt3,mtx);ctx.restore();if(target)return target}}else{ctx.setTransform(mtx.a,mtx.b,mtx.c,mtx.d,mtx.tx,mtx.ty);if(o3 instanceof $fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$export$2e2bcd8739ae039){this.setComplexProps(ctx,o3);o3.render(ctx)}else if(o3 instanceof $fbbd60cc0608b3d1$var$$845c974841b2f010$export$2e2bcd8739ae039&&o3.rect){this.setComplexProps(ctx,o3);o3.updateFrame();var rect=o3.rect;ctx.drawImage(o3.img,rect[0],rect[1],rect[2],rect[3],0,0,rect[2],rect[3])}else if(o3 instanceof $fbbd60cc0608b3d1$var$$9775ae176386021e$export$2e2bcd8739ae039&&o3.rect){this.setComplexProps(ctx,o3);var bRect=o3.rect;ctx.drawImage(o3.img,bRect[0],bRect[1],bRect[2],bRect[3],0,0,bRect[2],bRect[3])}else if(o3 instanceof $fbbd60cc0608b3d1$var$$45cf6d178e2acada$export$2e2bcd8739ae039){this.setComplexProps(ctx,o3);ctx.font=o3.font;ctx.textAlign=o3.textAlign;ctx.textBaseline=o3.baseline;if(o3.stroke){ctx.strokeStyle=o3.stroke;ctx.strokeText(o3.text,0,0)}ctx.fillStyle=o3.color;ctx.fillText(o3.text,0,0)}}if(o3.hitBox){o3.initAABB();if(this.checkPointInAABB(evt3.stageX,evt3.stageY,o3.AABB)){this._dispatchEvent(o3,evt3);return o3}}else if(ctx.getImageData(0,0,1,1).data[3]>0){this._dispatchEvent(o3,evt3);return o3}}},{key:"setComplexProps",value:function setComplexProps(ctx,o4){ctx.globalCompositeOperation=o4.complexCompositeOperation;ctx.globalAlpha=o4.complexAlpha}},{key:"_dispatchEvent",value:function _dispatchEvent(obj,evt4){if(this.disableEvents.indexOf(evt4.type)!==-1)return;var mockEvt=new $fbbd60cc0608b3d1$var$$8beb95fb9b1103f0$export$2e2bcd8739ae039;mockEvt.stageX=evt4.stageX;mockEvt.stageY=evt4.stageY;mockEvt.pureEvent=evt4;mockEvt.type=evt4.type;obj.dispatchEvent(mockEvt)}}]);return $fbbd60cc0608b3d1$var$$733c4474a63f8897$var$HitRender}($fbbd60cc0608b3d1$var$$8c28d3fc5f8c0c3e$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$733c4474a63f8897$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$733c4474a63f8897$var$HitRender;var $fbbd60cc0608b3d1$var$$4262dba97b7afa52$var$WxHitRender=function($8c28d3fc5f8c0c3e$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$4262dba97b7afa52$var$WxHitRender,$8c28d3fc5f8c0c3e$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$4262dba97b7afa52$var$WxHitRender(ctx,component,canvasId){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$4262dba97b7afa52$var$WxHitRender);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$4262dba97b7afa52$var$WxHitRender).call(this));_this.ctx=ctx;_this._isWeapp=true;_this._component=component;_this._hitCanvasId=canvasId+"Hit";_this.disableEvents=["mouseover","mouseout","mousemove","touchmove"];return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$4262dba97b7afa52$var$WxHitRender,[{key:"clear",value:function clear(){this.ctx.clearRect(0,0,2,2)}},{key:"hitAABB",value:function hitAABB(list,evt,cb){var len=list.length;for(var i=len-1;i>=0;i--){var o=list[i];if(o.AABB&&this.checkPointInAABB(evt.stageX,evt.stageY,o.AABB)){this._dispatchEvent(o,evt);cb(o);return o}}}},{key:"checkPointInAABB",value:function checkPointInAABB(x,y,AABB){var minX=AABB[0];if(x<minX)return false;var minY=AABB[1];if(y<minY)return false;var maxX=minX+AABB[2];if(x>maxX)return false;var maxY=minY+AABB[3];if(y>maxY)return false;return true}},{key:"hit",value:function hit(list1,evt1,cb1,current){var _this=this;var ctx=this.ctx;var obj=list1[current];var mtx=obj._hitMatrix.initialize(1,0,0,1,0,0);ctx.save();mtx.appendTransform(obj.x-evt1.stageX,obj.y-evt1.stageY,obj.scaleX,obj.scaleY,obj.rotation,obj.skewX,obj.skewY,obj.originX,obj.originY);ctx.globalCompositeOperation=obj.complexCompositeOperation;ctx.globalAlpha=obj.complexAlpha;ctx.setTransform(mtx.a,mtx.b,mtx.c,mtx.d,mtx.tx,mtx.ty);if(obj instanceof $fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$export$2e2bcd8739ae039)obj.render(ctx);else if(obj instanceof $fbbd60cc0608b3d1$var$$845c974841b2f010$export$2e2bcd8739ae039&&obj.rect){obj.updateFrame();var rect=obj.rect;ctx.drawImage(obj.img,rect[0],rect[1],rect[2],rect[3],0,0,rect[2],rect[3])}else if(obj instanceof $fbbd60cc0608b3d1$var$$9775ae176386021e$export$2e2bcd8739ae039&&obj.rect){var bRect=obj.rect;ctx.drawImage(obj.img,bRect[0],bRect[1],bRect[2],bRect[3],0,0,bRect[2],bRect[3])}else if(obj instanceof $fbbd60cc0608b3d1$var$$45cf6d178e2acada$export$2e2bcd8739ae039){ctx.font=obj.font;ctx.textAlign=obj.textAlign;if(obj.stroke){ctx.strokeStyle=obj.stroke;ctx.strokeText(obj.text,0,0)}ctx.fillStyle=obj.color;ctx.fillText(obj.text,0,0)}ctx.restore();current--;ctx.draw(false,(function(){var _this2=_this;wx.canvasGetImageData({canvasId:_this._hitCanvasId,x:0,y:0,width:1,height:1,success:function(res){if(res.data[3]>1){_this2._dispatchEvent(obj,evt1);cb1(obj)}else if(current>-1)_this2.hit(list1,evt1,cb1,current)}},_this._component)}))}},{key:"_dispatchEvent",value:function _dispatchEvent(obj,evt2){if(this.disableEvents.indexOf(evt2.type)!==-1)return;var mockEvt=new $fbbd60cc0608b3d1$var$$8beb95fb9b1103f0$export$2e2bcd8739ae039;mockEvt.stageX=evt2.stageX;mockEvt.stageY=evt2.stageY;mockEvt.pureEvent=evt2;mockEvt.type=evt2.type;obj.dispatchEvent(mockEvt)}}]);return $fbbd60cc0608b3d1$var$$4262dba97b7afa52$var$WxHitRender}($fbbd60cc0608b3d1$var$$8c28d3fc5f8c0c3e$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$4262dba97b7afa52$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$4262dba97b7afa52$var$WxHitRender;var $fbbd60cc0608b3d1$var$$bc36c189fe40cd59$var$WeStage=function($e47fc926a6af8e36$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$bc36c189fe40cd59$var$WeStage,$e47fc926a6af8e36$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$bc36c189fe40cd59$var$WeStage(width,height,id,page){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$bc36c189fe40cd59$var$WeStage);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$bc36c189fe40cd59$var$WeStage).call(this));var component=page.selectComponent("#"+id);component.setData({width:width,height:height});component.stage=$ftNz4$swchelpers.assertThisInitialized(_this);var canvasId=component.getCaxCanvasId();var ctx=wx.createCanvasContext(canvasId,component);var hitCtx=wx.createCanvasContext(canvasId+"Hit",component);_this.renderer=new $fbbd60cc0608b3d1$var$$9af8461b5f8eee4b$export$2e2bcd8739ae039(ctx,width,height);_this._hitRender=new $fbbd60cc0608b3d1$var$$4262dba97b7afa52$export$2e2bcd8739ae039(hitCtx,component,canvasId);_this._overObject=null;_this.ctx=ctx;_this.hitAABB=true;_this.width=width;_this.height=height;return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$bc36c189fe40cd59$var$WeStage,[{key:"touchStartHandler",value:function touchStartHandler(evt){var _this=this;var p1=evt.changedTouches[0];evt.stageX=Math.round(p1.x*this.scaleX);evt.stageY=Math.round(p1.y*this.scaleY);this._getObjectUnderPoint(evt,(function(obj){_this.willDragObject=obj;_this._mouseDownX=evt.stageX;_this._mouseDownY=evt.stageY;_this.preStageX=evt.stageX;_this.preStageY=evt.stageY}))}},{key:"touchMoveHandler",value:function touchMoveHandler(evt1){var _this=this;var p1=evt1.changedTouches[0];evt1.stageX=Math.round(p1.x*this.scaleX);evt1.stageY=Math.round(p1.y*this.scaleY);this._getObjectUnderPoint(evt1,(function(obj){var mockEvt=new $fbbd60cc0608b3d1$var$$8beb95fb9b1103f0$export$2e2bcd8739ae039;mockEvt.stageX=evt1.stageX;mockEvt.stageY=evt1.stageY;mockEvt.pureEvent=evt1;if(_this.willDragObject){mockEvt.type="drag";mockEvt.dx=mockEvt.stageX-_this.preStageX;mockEvt.dy=mockEvt.stageY-_this.preStageY;_this.preStageX=mockEvt.stageX;_this.preStageY=mockEvt.stageY;_this.willDragObject.dispatchEvent(mockEvt)}if(obj){if(_this._overObject===null)_this._overObject=obj;else if(obj.id!==_this._overObject.id)_this._overObject=obj;else{mockEvt.type="touchmove";obj.dispatchEvent(mockEvt)}}else if(_this._overObject)_this._overObject=null}))}},{key:"touchEndHandler",value:function touchEndHandler(evt2){var _this=this;var p1=evt2.changedTouches[0];evt2.stageX=Math.round(p1.x*this.scaleX);evt2.stageY=Math.round(p1.y*this.scaleY);var mockEvt=new $fbbd60cc0608b3d1$var$$8beb95fb9b1103f0$export$2e2bcd8739ae039;mockEvt.stageX=evt2.stageX;mockEvt.stageY=evt2.stageY;mockEvt.pureEvent=evt2;this._getObjectUnderPoint(evt2,(function(obj){_this._mouseUpX=evt2.stageX;_this._mouseUpY=evt2.stageY;_this.willDragObject=null;_this.preStageX=null;_this.preStageY=null;if(obj&&Math.abs(_this._mouseDownX-_this._mouseUpX)<30&&Math.abs(_this._mouseDownY-_this._mouseUpY)<30){mockEvt.type="tap";obj.dispatchEvent(mockEvt)}}))}},{key:"_handleMouseOut",value:function _handleMouseOut(evt3){this.dispatchEvent({pureEvent:evt3,type:"mouseout",stageX:evt3.stageX,stageY:evt3.stageY})}},{key:"_getObjectUnderPoint",value:function _getObjectUnderPoint(evt4,cb){var list=this.renderer.getHitRenderList(this);if(this.hitAABB)return this._hitRender.hitAABB(list,evt4,cb);else{this._hitRender.clear();this._hitRender.hit(list,evt4,cb,list.length-1)}}},{key:"on",value:function on(type,cb1){switch(type){case"touchstart":this.touchStart=cb1;break;case"touchmove":this.touchMove=cb1;break;case"touchend":this.touchEnd=cb1;break}}},{key:"update",value:function update(){this.renderer.update(this)}}]);return $fbbd60cc0608b3d1$var$$bc36c189fe40cd59$var$WeStage}($fbbd60cc0608b3d1$var$$e47fc926a6af8e36$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$bc36c189fe40cd59$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$bc36c189fe40cd59$var$WeStage;var $fbbd60cc0608b3d1$var$$7487d0d0460996a1$var$Stage=function($e47fc926a6af8e36$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$7487d0d0460996a1$var$Stage,$e47fc926a6af8e36$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$7487d0d0460996a1$var$Stage(width,height,renderTo){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$7487d0d0460996a1$var$Stage);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$7487d0d0460996a1$var$Stage).call(this));var len=arguments.length;_this.isWegame=typeof wx!=="undefined"&&typeof Page==="undefined";_this.moveDetectionInterval=0;if(len===0){_this.canvas=$fbbd60cc0608b3d1$var$$463719c37c18c090$export$2e2bcd8739ae039;_this.disableMoveDetection=true;_this.moveDetectionInterval=500}else if(len===4)return $ftNz4$swchelpers.possibleConstructorReturn(_this,new $fbbd60cc0608b3d1$var$$bc36c189fe40cd59$export$2e2bcd8739ae039(arguments[0],arguments[1],arguments[2],arguments[3]));else{if(len===1)_this.canvas=typeof width==="string"?document.querySelector(width):width;else{_this.renderTo=typeof renderTo==="string"?document.querySelector(renderTo):renderTo;if(_this.renderTo.tagName==="CANVAS"){_this.canvas=_this.renderTo;_this.canvas.width=width;_this.canvas.height=height}else{_this.canvas=document.createElement("canvas");_this.canvas.width=width;_this.canvas.height=height;_this.renderTo.appendChild(_this.canvas)}}_this._boundingClientRect=_this.canvas.getBoundingClientRect();_this.offset=_this._getOffset(_this.canvas)}_this.renderer=new $fbbd60cc0608b3d1$var$$9af8461b5f8eee4b$export$2e2bcd8739ae039(_this.canvas);if(_this.isWegame){wx.onTouchStart((function(evt){return _this._handleMouseDown(evt)}));wx.onTouchMove((function(evt){return _this._handleMouseMove(evt)}));wx.onTouchEnd((function(evt){return _this._handleMouseUp(evt)}))}else{_this.canvas.addEventListener("click",(function(evt){return _this._handleClick(evt)}));_this.canvas.addEventListener("mousedown",(function(evt){return _this._handleMouseDown(evt)}));_this.canvas.addEventListener("mousemove",(function(evt){return _this._handleMouseMove(evt)}));_this.canvas.addEventListener("mouseup",(function(evt){return _this._handleMouseUp(evt)}));_this.canvas.addEventListener("mouseout",(function(evt){return _this._handleMouseOut(evt)}));_this.canvas.addEventListener("touchstart",(function(evt){return _this._handleMouseDown(evt)}));_this.canvas.addEventListener("touchmove",(function(evt){return _this._handleMouseMove(evt)}));_this.canvas.addEventListener("touchend",(function(evt){return _this._handleMouseUp(evt)}));_this.canvas.addEventListener("dblclick",(function(evt){return _this._handleDblClick(evt)}));document.addEventListener("contextmenu",(function(evt){return _this._handleContextmenu(evt)}))}_this.borderTopWidth=0;_this.borderLeftWidth=0;_this.hitAABB=false;_this._hitRender=new $fbbd60cc0608b3d1$var$$733c4474a63f8897$export$2e2bcd8739ae039;_this._overObject=null;_this._scaleX=1;_this._scaleY=1;_this._mouseDownX=0;_this._mouseDownY=0;_this._mouseUpX=0;_this._mouseUpY=0;_this.willDragObject=null;_this.preStageX=null;_this.preStageY=null;_this.width=_this.canvas.width;_this.height=_this.canvas.height;_this.___instanceof="Stage";_this._moveDetectionTime=Date.now();return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$7487d0d0460996a1$var$Stage,[{key:"_handleContextmenu",value:function _handleContextmenu(evt9){this._getObjectUnderPoint(evt9)}},{key:"_handleDblClick",value:function _handleDblClick(evt1){this._getObjectUnderPoint(evt1)}},{key:"_handleClick",value:function _handleClick(evt2){if(Math.abs(this._mouseDownX-this._mouseUpX)<20&&Math.abs(this._mouseDownY-this._mouseUpY)<20)this._getObjectUnderPoint(evt2)}},{key:"_handleMouseDown",value:function _handleMouseDown(evt3){if(this.isWegame)evt3.type="touchstart";this.offset=this._getOffset(this.canvas);var obj=this._getObjectUnderPoint(evt3);this.willDragObject=obj;this._mouseDownX=evt3.stageX;this._mouseDownY=evt3.stageY;this.preStageX=evt3.stageX;this.preStageY=evt3.stageY}},{key:"scaleEventPoint",value:function scaleEventPoint(x,y){this._scaleX=x;this._scaleY=y}},{key:"_handleMouseUp",value:function _handleMouseUp(evt4){if(this.isWegame)evt4.type="touchend";var obj=this._getObjectUnderPoint(evt4);this._mouseUpX=evt4.stageX;this._mouseUpY=evt4.stageY;var mockEvt=new $fbbd60cc0608b3d1$var$$8beb95fb9b1103f0$export$2e2bcd8739ae039;mockEvt.stageX=evt4.stageX;mockEvt.stageY=evt4.stageY;mockEvt.pureEvent=evt4;this.willDragObject=null;this.preStageX=null;this.preStageY=null;if(obj&&evt4.type==="touchend"&&Math.abs(this._mouseDownX-this._mouseUpX)<30&&Math.abs(this._mouseDownY-this._mouseUpY)<30){mockEvt.type="tap";obj.dispatchEvent(mockEvt)}}},{key:"_handleMouseOut",value:function _handleMouseOut(evt5){this._computeStageXY(evt5);this.dispatchEvent({pureEvent:evt5,type:"mouseout",stageX:evt5.stageX,stageY:evt5.stageY})}},{key:"_handleMouseMove",value:function _handleMouseMove(evt6){if(Date.now()-this._moveDetectionTime<this.moveDetectionInterval)return;this._moveDetectionTime=Date.now();if(this.isWegame)evt6.type="touchmove";if(this.disableMoveDetection)return;var obj=this._getObjectUnderPoint(evt6);var mockEvt=new $fbbd60cc0608b3d1$var$$8beb95fb9b1103f0$export$2e2bcd8739ae039;mockEvt.stageX=evt6.stageX;mockEvt.stageY=evt6.stageY;mockEvt.pureEvent=evt6;if(this.willDragObject){mockEvt.type="drag";mockEvt.dx=mockEvt.stageX-this.preStageX;mockEvt.dy=mockEvt.stageY-this.preStageY;this.preStageX=mockEvt.stageX;this.preStageY=mockEvt.stageY;this.willDragObject.dispatchEvent(mockEvt)}if(obj){if(this._overObject===null){mockEvt.type="mouseover";obj.dispatchEvent(mockEvt);this._overObject=obj;this._setCursor(obj)}else if(obj.id!==this._overObject.id){this._overObject.dispatchEvent({pureEvent:evt6,type:"mouseout",stageX:evt6.stageX,stageY:evt6.stageY});mockEvt.type="mouseover";obj.dispatchEvent(mockEvt);this._setCursor(obj);this._overObject=obj}else{mockEvt.type="mousemove";obj.dispatchEvent(mockEvt);mockEvt.type="touchmove";obj.dispatchEvent(mockEvt)}}else if(this._overObject){mockEvt.type="mouseout";this._overObject.dispatchEvent(mockEvt);this._overObject=null;this._setCursor({cursor:"default"})}}},{key:"_setCursor",value:function _setCursor(obj){if(!this.canvas.style)return;if(obj.cursor)this.canvas.style.cursor=obj.cursor;else if(obj.parent)this._setCursor(obj.parent);else this._setCursor({cursor:"default"})}},{key:"_getObjectUnderPoint",value:function _getObjectUnderPoint(evt7){this._computeStageXY(evt7);if(this.hitAABB)return this._hitRender.hitAABB(this,evt7);else return this._hitRender.hitPixel(this,evt7)}},{key:"_computeStageXY",value:function _computeStageXY(evt8){this._boundingClientRect=this.isWegame?{left:0,top:0}:this.canvas.getBoundingClientRect();if(evt8.touches||evt8.changedTouches){var firstTouch=evt8.touches[0]||evt8.changedTouches[0];if(firstTouch){evt8.stageX=(firstTouch.pageX-this.offset[0])/this._scaleX;evt8.stageY=(firstTouch.pageY-this.offset[1])/this._scaleY}}else{evt8.stageX=(evt8.clientX-this._boundingClientRect.left-this.borderLeftWidth)/this._scaleX;evt8.stageY=(evt8.clientY-this._boundingClientRect.top-this.borderTopWidth)/this._scaleY}}},{key:"_getOffset",value:function _getOffset(el){if(this.isWegame)return[0,0];var _t=0,_l=0;if(document.documentElement.getBoundingClientRect&&el.getBoundingClientRect){var box=el.getBoundingClientRect();_l=box.left;_t=box.top}else{while(el.offsetParent){_t+=el.offsetTop;_l+=el.offsetLeft;el=el.offsetParent}return[_l,_t]}return[_l+Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),_t+Math.max(document.documentElement.scrollTop,document.body.scrollTop)]}},{key:"update",value:function update(){this.renderer.update(this)}},{key:"on",value:function on(type,fn){var _this=this;var handler=function(evt){if(!$fbbd60cc0608b3d1$var$$4ca6ae723696d7dd$export$2e2bcd8739ae039.stagePropagationStopped[type]){_this._computeStageXY(evt);fn(evt)}$fbbd60cc0608b3d1$var$$4ca6ae723696d7dd$export$2e2bcd8739ae039.stagePropagationStopped[type]=false};fn.__handler__=handler;this.canvas.addEventListener(type,handler)}},{key:"off",value:function off(type1,fn1){this.canvas.removeEventListener(type1,fn1.__handler__||fn1)}}]);return $fbbd60cc0608b3d1$var$$7487d0d0460996a1$var$Stage}($fbbd60cc0608b3d1$var$$e47fc926a6af8e36$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$7487d0d0460996a1$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$7487d0d0460996a1$var$Stage;var $fbbd60cc0608b3d1$var$$276d471f84376612$var$Shape=function($2d7fd1ae3cf06035$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$276d471f84376612$var$Shape,$2d7fd1ae3cf06035$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$276d471f84376612$var$Shape(){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$276d471f84376612$var$Shape);return $ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$276d471f84376612$var$Shape).apply(this,arguments))}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$276d471f84376612$var$Shape,[{key:"draw",value:function draw(){}},{key:"render",value:function render(ctx){this.clear();this.draw();$ftNz4$swchelpers.get($ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$276d471f84376612$var$Shape.prototype),"render",this).call(this,ctx)}}]);return $fbbd60cc0608b3d1$var$$276d471f84376612$var$Shape}($fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$276d471f84376612$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$276d471f84376612$var$Shape;var $fbbd60cc0608b3d1$var$$a2f532ad0cf5b255$var$RoundedRect=function($276d471f84376612$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$a2f532ad0cf5b255$var$RoundedRect,$276d471f84376612$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$a2f532ad0cf5b255$var$RoundedRect(width,height,r,option){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$a2f532ad0cf5b255$var$RoundedRect);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$a2f532ad0cf5b255$var$RoundedRect).call(this));_this.option=Object.assign({lineWidth:1,lt:true,rt:true,lb:true,rb:true},option);_this.r=r||0;_this.width=width;_this.height=height;return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$a2f532ad0cf5b255$var$RoundedRect,[{key:"draw",value:function draw(){var width=this.width,height=this.height,r=this.r;var ax=r,ay=0,bx=width,by=0,cx=width,cy=height,dx=0,dy=height,ex=0,ey=0;this.beginPath();this.moveTo(ax,ay);if(this.option.rt)this.arcTo(bx,by,cx,cy,r);else this.lineTo(bx,by);if(this.option.rb)this.arcTo(cx,cy,dx,dy,r);else this.lineTo(cx,cy);if(this.option.lb)this.arcTo(dx,dy,ex,ey,r);else this.lineTo(dx,dy);if(this.option.lt)this.arcTo(ex,ey,ax,ay,r);else this.lineTo(ex,ey);if(this.option.fillStyle){this.closePath();this.fillStyle(this.option.fillStyle);this.fill()}if(this.option.strokeStyle){this.lineWidth(this.option.lineWidth);this.strokeStyle(this.option.strokeStyle);this.stroke()}}}]);return $fbbd60cc0608b3d1$var$$a2f532ad0cf5b255$var$RoundedRect}($fbbd60cc0608b3d1$var$$276d471f84376612$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$a2f532ad0cf5b255$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$a2f532ad0cf5b255$var$RoundedRect;var $fbbd60cc0608b3d1$var$$d2fe41cb9e081f30$var$ArrowPath=function($276d471f84376612$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$d2fe41cb9e081f30$var$ArrowPath,$276d471f84376612$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$d2fe41cb9e081f30$var$ArrowPath(path,option){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$d2fe41cb9e081f30$var$ArrowPath);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$d2fe41cb9e081f30$var$ArrowPath).call(this));_this.path=path;_this.option=Object.assign({strokeStyle:"black",lineWidth:1,headSize:10},option);return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$d2fe41cb9e081f30$var$ArrowPath,[{key:"draw",value:function draw(){var path=this.path;this.beginPath();var len=path.length;if(len===2)this.drawArrow(path[0].x,path[0].y,path[1].x,path[1].y,30);else{this.moveTo(path[0].x,path[0].y);for(var i=1;i<len-1;i++)this.lineTo(path[i].x,path[i].y);this.drawArrow(path[len-2].x,path[len-2].y,path[len-1].x,path[len-1].y,30)}this.stroke()}},{key:"drawArrow",value:function drawArrow(fromX,fromY,toX,toY,theta){var angle=Math.atan2(fromY-toY,fromX-toX)*180/Math.PI,angle1=(angle+theta)*Math.PI/180,angle2=(angle-theta)*Math.PI/180,hs=this.option.headSize,topX=hs*Math.cos(angle1),topY=hs*Math.sin(angle1),botX=hs*Math.cos(angle2),botY=hs*Math.sin(angle2);var arrowX=fromX-topX,arrowY=fromY-topY;this.moveTo(arrowX,arrowY);this.moveTo(fromX,fromY);this.lineTo(toX,toY);arrowX=toX+topX;arrowY=toY+topY;this.moveTo(arrowX,arrowY);this.lineTo(toX,toY);arrowX=toX+botX;arrowY=toY+botY;this.lineTo(arrowX,arrowY);this.strokeStyle(this.option.strokeStyle);this.lineWidth(this.option.lineWidth)}}]);return $fbbd60cc0608b3d1$var$$d2fe41cb9e081f30$var$ArrowPath}($fbbd60cc0608b3d1$var$$276d471f84376612$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$d2fe41cb9e081f30$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$d2fe41cb9e081f30$var$ArrowPath;var $fbbd60cc0608b3d1$var$$3ec2487c3e49f282$var$Ellipse=function($276d471f84376612$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$3ec2487c3e49f282$var$Ellipse,$276d471f84376612$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$3ec2487c3e49f282$var$Ellipse(width,height,option){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$3ec2487c3e49f282$var$Ellipse);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$3ec2487c3e49f282$var$Ellipse).call(this));_this.option=option||{};_this.width=width;_this.height=height;return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$3ec2487c3e49f282$var$Ellipse,[{key:"draw",value:function draw(){var w=this.width;var h=this.height;var k=.5522848;var ox=w/2*k;var oy=h/2*k;var xe=w;var ye=h;var xm=w/2;var ym=h/2;this.beginPath();this.moveTo(0,ym);this.bezierCurveTo(0,ym-oy,xm-ox,0,xm,0);this.bezierCurveTo(xm+ox,0,xe,ym-oy,xe,ym);this.bezierCurveTo(xe,ym+oy,xm+ox,ye,xm,ye);this.bezierCurveTo(xm-ox,ye,0,ym+oy,0,ym);if(this.option.strokeStyle){if(this.option.lineWidth!==undefined)this.lineWidth(this.option.lineWidth);this.strokeStyle(this.option.strokeStyle);this.stroke()}if(this.option.fillStyle){this.fillStyle(this.option.fillStyle);this.fill()}}}]);return $fbbd60cc0608b3d1$var$$3ec2487c3e49f282$var$Ellipse}($fbbd60cc0608b3d1$var$$276d471f84376612$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$3ec2487c3e49f282$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$3ec2487c3e49f282$var$Ellipse;var $fbbd60cc0608b3d1$var$$37a52076234772c9$var$length={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0};var $fbbd60cc0608b3d1$var$$37a52076234772c9$var$segment=/([astvzqmhlc])([^astvzqmhlc]*)/gi;function $fbbd60cc0608b3d1$var$$37a52076234772c9$var$parse(path){var data=[];path.replace($fbbd60cc0608b3d1$var$$37a52076234772c9$var$segment,(function(_,command,args){var type=command.toLowerCase();args=$fbbd60cc0608b3d1$var$$37a52076234772c9$var$parseValues(args);if(type==="m"&&args.length>2){data.push([command].concat(args.splice(0,2)));type="l";command=command==="m"?"l":"L"}while(true){if(args.length===$fbbd60cc0608b3d1$var$$37a52076234772c9$var$length[type]){args.unshift(command);return data.push(args)}if(args.length<$fbbd60cc0608b3d1$var$$37a52076234772c9$var$length[type])throw new Error("malformed path data");data.push([command].concat(args.splice(0,$fbbd60cc0608b3d1$var$$37a52076234772c9$var$length[type])))}}));return data}var $fbbd60cc0608b3d1$var$$37a52076234772c9$var$number=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function $fbbd60cc0608b3d1$var$$37a52076234772c9$var$parseValues(args){var numbers=args.match($fbbd60cc0608b3d1$var$$37a52076234772c9$var$number);return numbers?numbers.map(Number):[]}var $fbbd60cc0608b3d1$var$$37a52076234772c9$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$37a52076234772c9$var$parse;var $fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$TAU=Math.PI*2;var $fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$mapToEllipse=function(param,rx,ry,cosphi,sinphi,centerx,centery){var x=param.x,y=param.y;x*=rx;y*=ry;var xp=cosphi*x-sinphi*y;var yp=sinphi*x+cosphi*y;return{x:xp+centerx,y:yp+centery}};var $fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$approxUnitArc=function(ang1,ang2){var a=4/3*Math.tan(ang2/4);var x1=Math.cos(ang1);var y1=Math.sin(ang1);var x2=Math.cos(ang1+ang2);var y2=Math.sin(ang1+ang2);return[{x:x1-y1*a,y:y1+x1*a},{x:x2+y2*a,y:y2-x2*a},{x:x2,y:y2}]};var $fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$vectorAngle=function(ux,uy,vx,vy){var sign=ux*vy-uy*vx<0?-1:1;var umag=Math.sqrt(ux*ux+uy*uy);var vmag=Math.sqrt(ux*ux+uy*uy);var dot=ux*vx+uy*vy;var div=dot/(umag*vmag);if(div>1)div=1;if(div<-1)div=-1;return sign*Math.acos(div)};var $fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$getArcCenter=function(px,py,cx,cy,rx,ry,largeArcFlag,sweepFlag,sinphi,cosphi,pxp,pyp){var rxsq=Math.pow(rx,2);var rysq=Math.pow(ry,2);var pxpsq=Math.pow(pxp,2);var pypsq=Math.pow(pyp,2);var radicant=rxsq*rysq-rxsq*pypsq-rysq*pxpsq;if(radicant<0)radicant=0;radicant/=rxsq*pypsq+rysq*pxpsq;radicant=Math.sqrt(radicant)*(largeArcFlag===sweepFlag?-1:1);var centerxp=radicant*rx/ry*pyp;var centeryp=radicant*-ry/rx*pxp;var centerx=cosphi*centerxp-sinphi*centeryp+(px+cx)/2;var centery=sinphi*centerxp+cosphi*centeryp+(py+cy)/2;var vx1=(pxp-centerxp)/rx;var vy1=(pyp-centeryp)/ry;var vx2=(-pxp-centerxp)/rx;var vy2=(-pyp-centeryp)/ry;var ang1=$fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$vectorAngle(1,0,vx1,vy1);var ang2=$fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$vectorAngle(vx1,vy1,vx2,vy2);if(sweepFlag===0&&ang2>0)ang2-=$fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$TAU;if(sweepFlag===1&&ang2<0)ang2+=$fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$TAU;return[centerx,centery,ang1,ang2]};var $fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$arcToBezier=function(param){var px=param.px,py=param.py,cx=param.cx,cy=param.cy,rx=param.rx,ry=param.ry,tmp=param.xAxisRotation,xAxisRotation=tmp===void 0?0:tmp,tmp1=param.largeArcFlag,largeArcFlag=tmp1===void 0?0:tmp1,tmp2=param.sweepFlag,sweepFlag=tmp2===void 0?0:tmp2;var curves=[];if(rx===0||ry===0)return[];var sinphi=Math.sin(xAxisRotation*$fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$TAU/360);var cosphi=Math.cos(xAxisRotation*$fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$TAU/360);var pxp=cosphi*(px-cx)/2+sinphi*(py-cy)/2;var pyp=-sinphi*(px-cx)/2+cosphi*(py-cy)/2;if(pxp===0&&pyp===0)return[];rx=Math.abs(rx);ry=Math.abs(ry);var lambda=Math.pow(pxp,2)/Math.pow(rx,2)+Math.pow(pyp,2)/Math.pow(ry,2);if(lambda>1){rx*=Math.sqrt(lambda);ry*=Math.sqrt(lambda)}var ref3=$ftNz4$swchelpers.slicedToArray($fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$getArcCenter(px,py,cx,cy,rx,ry,largeArcFlag,sweepFlag,sinphi,cosphi,pxp,pyp),4),centerx=ref3[0],centery=ref3[1],ang1=ref3[2],ang2=ref3[3];var segments=Math.max(Math.ceil(Math.abs(ang2)/($fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$TAU/4)),1);ang2/=segments;for(var i=0;i<segments;i++){curves.push($fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$approxUnitArc(ang1,ang2));ang1+=ang2}return curves.map((function(curve){var ref=$fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$mapToEllipse(curve[0],rx,ry,cosphi,sinphi,centerx,centery),x1=ref.x,y1=ref.y;var ref1=$fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$mapToEllipse(curve[1],rx,ry,cosphi,sinphi,centerx,centery),x2=ref1.x,y2=ref1.y;var ref2=$fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$mapToEllipse(curve[2],rx,ry,cosphi,sinphi,centerx,centery),x=ref2.x,y=ref2.y;return{x1:x1,y1:y1,x2:x2,y2:y2,x:x,y:y}}))};var $fbbd60cc0608b3d1$var$$af6deb77e6d15853$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$af6deb77e6d15853$var$arcToBezier;var $fbbd60cc0608b3d1$var$$647bcf0f7995e46a$var$Path=function($276d471f84376612$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$647bcf0f7995e46a$var$Path,$276d471f84376612$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$647bcf0f7995e46a$var$Path(d,option){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$647bcf0f7995e46a$var$Path);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$647bcf0f7995e46a$var$Path).call(this));_this.d=d;option=Object.assign({lineWidth:1},option);_this.option=option;return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$647bcf0f7995e46a$var$Path,[{key:"draw",value:function draw(){var _this=this,_loop=function(j,cmdLen){var item=cmds[j];var action=item[0];var preItem=cmds[j-1];switch(action){case"M":preX=item[1];preY=item[2];_this.moveTo(preX,preY);break;case"L":preX=item[1];preY=item[2];_this.lineTo(preX,preY);break;case"H":preX=item[1];_this.lineTo(preX,preY);break;case"V":preY=item[1];_this.lineTo(preX,preY);break;case"C":preX=item[5];preY=item[6];_this.bezierCurveTo(item[1],item[2],item[3],item[4],preX,preY);break;case"S":if(preItem[0]==="C"||preItem[0]==="c")_this.bezierCurveTo(preX+preItem[5]-preItem[3],preY+preItem[6]-preItem[4],item[1],item[2],item[3],item[4]);else if(preItem[0]==="S"||preItem[0]==="s")_this.bezierCurveTo(preX+preItem[3]-preItem[1],preY+preItem[4]-preItem[2],item[1],item[2],item[3],item[4]);preX=item[3];preY=item[4];break;case"Q":preX=item[3];preY=item[4];_this.quadraticCurveTo(item[1],item[2],preX,preY);break;case"m":preX+=item[1];preY+=item[2];_this.moveTo(preX,preY);break;case"l":preX+=item[1];preY+=item[2];_this.lineTo(preX,preY);break;case"h":preX+=item[1];_this.lineTo(preX,preY);break;case"v":preY+=item[1];_this.lineTo(preX,preY);break;case"c":_this.bezierCurveTo(preX+item[1],preY+item[2],preX+item[3],preY+item[4],preX+item[5],preY+item[6]);preX=preX+item[5];preY=preY+item[6];break;case"s":if(preItem[0]==="C"||preItem[0]==="c")_this.bezierCurveTo(preX+preItem[5]-preItem[3],preY+preItem[6]-preItem[4],preX+item[1],preY+item[2],preX+item[3],preY+item[4]);else if(preItem[0]==="S"||preItem[0]==="s")_this.bezierCurveTo(preX+preItem[3]-preItem[1],preY+preItem[4]-preItem[2],preX+item[1],preY+item[2],preX+item[3],preY+item[4]);preX+=item[3];preY+=item[4];break;case"q":_this.quadraticCurveTo(preX+item[1],preY+item[2],item[3]+preX,item[4]+preY);preX+=item[3];preY+=item[4];break;case"Z":_this.closePath();break;case"z":_this.closePath();break;case"a":var _this4=_this;curves=$fbbd60cc0608b3d1$var$$af6deb77e6d15853$export$2e2bcd8739ae039({rx:item[1],ry:item[2],px:preX,py:preY,xAxisRotation:item[3],largeArcFlag:item[4],sweepFlag:item[5],cx:preX+item[6],cy:preX+item[7]});lastCurve=curves[curves.length-1];curves.forEach((function(curve,index){if(index===0){_this4.moveTo(preX,preY);_this4.bezierCurveTo(curve.x1,curve.y1,curve.x2,curve.y2,curve.x,curve.y)}else _this4.bezierCurveTo(curve.x1,curve.y1,curve.x2,curve.y2,curve.x,curve.y)}));preX=lastCurve.x;preY=lastCurve.y;break;case"A":var _this3=_this;curves=$fbbd60cc0608b3d1$var$$af6deb77e6d15853$export$2e2bcd8739ae039({rx:item[1],ry:item[2],px:preX,py:preY,xAxisRotation:item[3],largeArcFlag:item[4],sweepFlag:item[5],cx:item[6],cy:item[7]});lastCurve=curves[curves.length-1];curves.forEach((function(curve,index){if(index===0){_this3.moveTo(preX,preY);_this3.bezierCurveTo(curve.x1,curve.y1,curve.x2,curve.y2,curve.x,curve.y)}else _this3.bezierCurveTo(curve.x1,curve.y1,curve.x2,curve.y2,curve.x,curve.y)}));preX=lastCurve.x;preY=lastCurve.y;break;case"T":if(preItem[0]==="Q"||preItem[0]==="q"){preCX=preX+preItem[3]-preItem[1];preCY=preY+preItem[4]-preItem[2];_this.quadraticCurveTo(preX,preY,preCX,preCY,item[1],item[2])}else if(preItem[0]==="T"||preItem[0]==="t"){_this.quadraticCurveTo(preX,preY,preX+preX-preCX,preY+preY-preCY,item[1],item[2]);preCX=preX+preX-preCX;preCY=preY+preY-preCY}preX=item[1];preY=item[2];break;case"t":if(preItem[0]==="Q"||preItem[0]==="q"){preCX=preX+preItem[3]-preItem[1];preCY=preY+preItem[4]-preItem[2];_this.quadraticCurveTo(preX,preY,preCX,preCY,preX+item[1],preY+item[2])}else if(preItem[0]==="T"||preItem[0]==="t"){_this.quadraticCurveTo(preX,preY,preX+preX-preCX,preY+preY-preCY,preX+item[1],preY+item[2]);preCX=preX+preX-preCX;preCY=preY+preY-preCY}preX+=item[1];preY+=item[2];break}};var cmds=$fbbd60cc0608b3d1$var$$37a52076234772c9$export$2e2bcd8739ae039(this.d);this.beginPath();var preX,preY,curves,lastCurve;for(var j=0,cmdLen=cmds.length;j<cmdLen;j++)_loop(j,cmdLen);if(this.option.fillStyle){this.fillStyle(this.option.fillStyle);this.fill()}if(this.option.strokeStyle){this.lineWidth(this.option.lineWidth);this.strokeStyle(this.option.strokeStyle);this.stroke()}}},{key:"clone",value:function clone(){return new $fbbd60cc0608b3d1$var$$647bcf0f7995e46a$var$Path(this.d,{lineWidth:this.option.lineWidth,strokeStyle:this.option.strokeStyle,fillStyle:this.option.fillStyle})}}]);return $fbbd60cc0608b3d1$var$$647bcf0f7995e46a$var$Path}($fbbd60cc0608b3d1$var$$276d471f84376612$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$647bcf0f7995e46a$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$647bcf0f7995e46a$var$Path;var $fbbd60cc0608b3d1$var$$606798555f78d2f8$var$Button=function($e47fc926a6af8e36$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$606798555f78d2f8$var$Button,$e47fc926a6af8e36$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$606798555f78d2f8$var$Button(option){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$606798555f78d2f8$var$Button);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$606798555f78d2f8$var$Button).call(this));_this.width=option.width;_this.height=option.height;_this.x=option.x;_this.y=option.y;var textHeight=0;var textGroup;if(option.text){textGroup=new $fbbd60cc0608b3d1$var$$e47fc926a6af8e36$export$2e2bcd8739ae039;_this.text=new $fbbd60cc0608b3d1$var$$45cf6d178e2acada$export$2e2bcd8739ae039(option.text,{font:option.font,color:option.color});var textWidth=_this.text.getWidth();if(textWidth>option.width){var step=Math.round(option.text.length*option.width/textWidth/2);var textList=_this.stringSplit(option.text,step);var lineHeight=option.lineHeight||12;textHeight=textList.length*lineHeight+6;textList.forEach((function(text,index){_this.text=new $fbbd60cc0608b3d1$var$$45cf6d178e2acada$export$2e2bcd8739ae039(text,{font:option.font,color:option.color});_this.text.x=option.width/2-_this.text.getWidth()/2*_this.text.scaleX+(option.textX||0);_this.text.y=Math.max(textHeight,option.height)/2-10+5*_this.text.scaleY+(option.textY||0)+index*12-textHeight/2+lineHeight/2;textGroup.add(_this.text)}))}else{_this.text.x=option.width/2-_this.text.getWidth()/2*_this.text.scaleX+(option.textX||0);_this.text.y=option.height/2-10+5*_this.text.scaleY+(option.textY||0);textGroup.add(_this.text)}}if(option.bgImage){var ratio=option.ratio||1;var bitmap=new $fbbd60cc0608b3d1$var$$9775ae176386021e$export$2e2bcd8739ae039(option.bgImage[0]);bitmap.scaleX=ratio;bitmap.scaleY=ratio;bitmap.width=option.bgImage[1];bitmap.height=option.bgImage[2];bitmap.x=(_this.width-bitmap.width)/2;bitmap.y=(_this.height-bitmap.height)/2;_this.add(bitmap)}else if(option.bgColor||option.borderColor){_this.roundedRect=new $fbbd60cc0608b3d1$var$$a2f532ad0cf5b255$export$2e2bcd8739ae039(option.width,option.autoHeight?Math.max(textHeight,option.height):option.height,option.borderRadius,{strokeStyle:option.borderColor||"black",fillStyle:option.bgColor||"#F5F5F5"});_this.add(_this.roundedRect)}if(option.image){var ratio=option.ratio||1;var bitmap1=new $fbbd60cc0608b3d1$var$$9775ae176386021e$export$2e2bcd8739ae039(option.image[0]);bitmap1.scaleX=ratio;bitmap1.scaleY=ratio;bitmap1.width=option.image[1];bitmap1.height=option.image[2];bitmap1.x=(_this.width-bitmap1.width)/2;bitmap1.y=(_this.height-bitmap1.height)/2;_this.add(bitmap1)}if(textGroup)_this.add(textGroup);return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$606798555f78d2f8$var$Button,[{key:"stringSplit",value:function stringSplit(str,len){var arr=[],offset=0,char_length=0;for(var i=0;i<str.length;i++){var son_str=str.charAt(i);encodeURI(son_str).length>2?char_length+=1:char_length+=.5;if(char_length>=len||char_length<len&&i===str.length-1){var sub_len=char_length==len?i+1:i;arr.push(str.substr(offset,sub_len-offset+(char_length<len&&i===str.length-1?1:0)));offset=i+1;char_length=0}}return arr}}]);return $fbbd60cc0608b3d1$var$$606798555f78d2f8$var$Button}($fbbd60cc0608b3d1$var$$e47fc926a6af8e36$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$606798555f78d2f8$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$606798555f78d2f8$var$Button;var $fbbd60cc0608b3d1$var$$527ccdb30b783a29$var$Rect=function($276d471f84376612$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$527ccdb30b783a29$var$Rect,$276d471f84376612$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$527ccdb30b783a29$var$Rect(width,height,option){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$527ccdb30b783a29$var$Rect);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$527ccdb30b783a29$var$Rect).call(this));_this.width=width;_this.height=height;_this.option=option||{};return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$527ccdb30b783a29$var$Rect,[{key:"draw",value:function draw(){if(this.option.fillStyle){this.fillStyle(this.option.fillStyle);this.fillRect(0,0,this.width,this.height)}if(this.option.strokeStyle){this.strokeStyle(this.option.strokeStyle);if(typeof this.option.lineWidth==="number")this.lineWidth(this.option.lineWidth);this.strokeRect(0,0,this.width,this.height)}}}]);return $fbbd60cc0608b3d1$var$$527ccdb30b783a29$var$Rect}($fbbd60cc0608b3d1$var$$276d471f84376612$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$527ccdb30b783a29$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$527ccdb30b783a29$var$Rect;var $fbbd60cc0608b3d1$var$$f2395e373a552439$var$Circle=function($276d471f84376612$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$f2395e373a552439$var$Circle,$276d471f84376612$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$f2395e373a552439$var$Circle(r,option){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$f2395e373a552439$var$Circle);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$f2395e373a552439$var$Circle).call(this));_this.option=option||{};_this.r=r;_this._dp=Math.PI*2;return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$f2395e373a552439$var$Circle,[{key:"draw",value:function draw(){this.beginPath();this.arc(0,0,this.r,0,this._dp,false);if(this.option.strokeStyle){if(this.option.lineWidth!==undefined)this.lineWidth(this.option.lineWidth);this.strokeStyle(this.option.strokeStyle);this.stroke()}if(this.option.fillStyle){this.fillStyle(this.option.fillStyle);this.fill()}}}]);return $fbbd60cc0608b3d1$var$$f2395e373a552439$var$Circle}($fbbd60cc0608b3d1$var$$276d471f84376612$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$f2395e373a552439$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$f2395e373a552439$var$Circle;var $fbbd60cc0608b3d1$var$$6d03225deb842719$var$Polygon=function($276d471f84376612$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$6d03225deb842719$var$Polygon,$276d471f84376612$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$6d03225deb842719$var$Polygon(vertex,options){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$6d03225deb842719$var$Polygon);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$6d03225deb842719$var$Polygon).call(this));_this.vertex=vertex||[];_this.options=options||{};_this.strokeColor=_this.options.strokeColor;_this.fillColor=_this.options.fillColor;return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$6d03225deb842719$var$Polygon,[{key:"draw",value:function draw(){this.clear().beginPath();this.strokeStyle(this.strokeColor);this.moveTo(this.vertex[0][0],this.vertex[0][1]);for(var i=1,len=this.vertex.length;i<len;i++)this.lineTo(this.vertex[i][0],this.vertex[i][1]);this.closePath();if(this.strokeColor){this.strokeStyle(this.strokeColor);this.stroke()}if(this.fillColor){this.fillStyle(this.fillColor);this.fill()}}}]);return $fbbd60cc0608b3d1$var$$6d03225deb842719$var$Polygon}($fbbd60cc0608b3d1$var$$276d471f84376612$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$6d03225deb842719$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$6d03225deb842719$var$Polygon;var $fbbd60cc0608b3d1$var$$22eb7abad679bba0$var$EquilateralPolygon=function($276d471f84376612$export$2e2bcd8739ae039){"use strict";$ftNz4$swchelpers.inherits($fbbd60cc0608b3d1$var$$22eb7abad679bba0$var$EquilateralPolygon,$276d471f84376612$export$2e2bcd8739ae039);function $fbbd60cc0608b3d1$var$$22eb7abad679bba0$var$EquilateralPolygon(num,r,options){$ftNz4$swchelpers.classCallCheck(this,$fbbd60cc0608b3d1$var$$22eb7abad679bba0$var$EquilateralPolygon);var _this;_this=$ftNz4$swchelpers.possibleConstructorReturn(this,$ftNz4$swchelpers.getPrototypeOf($fbbd60cc0608b3d1$var$$22eb7abad679bba0$var$EquilateralPolygon).call(this));_this.num=num;_this.r=r;_this.options=options||{};_this.vertex=[];_this.initVertex();return _this}$ftNz4$swchelpers.createClass($fbbd60cc0608b3d1$var$$22eb7abad679bba0$var$EquilateralPolygon,[{key:"initVertex",value:function initVertex(){this.vertex.length=[];var num=this.num;var r=this.r;var i,startX,startY,newX,newY;if(num%2===0){startX=r*Math.cos(2*Math.PI*0/num);startY=r*Math.sin(2*Math.PI*0/num);this.vertex.push([startX,startY]);for(i=1;i<num;i++){newX=r*Math.cos(2*Math.PI*i/num);newY=r*Math.sin(2*Math.PI*i/num);this.vertex.push([newX,newY])}}else{startX=r*Math.cos(2*Math.PI*0/num-Math.PI/2);startY=r*Math.sin(2*Math.PI*0/num-Math.PI/2);this.vertex.push([startX,startY]);for(i=1;i<num;i++){newX=r*Math.cos(2*Math.PI*i/num-Math.PI/2);newY=r*Math.sin(2*Math.PI*i/num-Math.PI/2);this.vertex.push([newX,newY])}}}},{key:"draw",value:function draw(){this.beginPath();this.moveTo(this.vertex[0][0],this.vertex[0][1]);for(var i=1,len=this.vertex.length;i<len;i++)this.lineTo(this.vertex[i][0],this.vertex[i][1]);this.closePath();if(this.options.fillStyle){this.fillStyle(this.options.fillStyle);this.fill()}if(this.options.strokeStyle){this.strokeStyle(this.options.strokeStyle);if(typeof this.options.lineWidth==="number")this.lineWidth(this.options.lineWidth);this.stroke()}}}]);return $fbbd60cc0608b3d1$var$$22eb7abad679bba0$var$EquilateralPolygon}($fbbd60cc0608b3d1$var$$276d471f84376612$export$2e2bcd8739ae039);var $fbbd60cc0608b3d1$var$$22eb7abad679bba0$export$2e2bcd8739ae039=$fbbd60cc0608b3d1$var$$22eb7abad679bba0$var$EquilateralPolygon;$fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$export$2e2bcd8739ae039.easing={linear:$fbbd60cc0608b3d1$var$$parcel$interopDefault($fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports).Easing.Linear.None};var $fbbd60cc0608b3d1$var$$84b79afa456f6c66$var$cax={easing:{linear:$fbbd60cc0608b3d1$var$$parcel$interopDefault($fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports).Easing.Linear.None},util:{randomInt:function(min,max){return min+Math.floor(Math.random()*(max-min+1))}},Stage:$fbbd60cc0608b3d1$var$$7487d0d0460996a1$export$2e2bcd8739ae039,WeStage:$fbbd60cc0608b3d1$var$$bc36c189fe40cd59$export$2e2bcd8739ae039,Graphics:$fbbd60cc0608b3d1$var$$2d7fd1ae3cf06035$export$2e2bcd8739ae039,Bitmap:$fbbd60cc0608b3d1$var$$9775ae176386021e$export$2e2bcd8739ae039,Text:$fbbd60cc0608b3d1$var$$45cf6d178e2acada$export$2e2bcd8739ae039,Group:$fbbd60cc0608b3d1$var$$e47fc926a6af8e36$export$2e2bcd8739ae039,Sprite:$fbbd60cc0608b3d1$var$$845c974841b2f010$export$2e2bcd8739ae039,Shape:$fbbd60cc0608b3d1$var$$276d471f84376612$export$2e2bcd8739ae039,ArrowPath:$fbbd60cc0608b3d1$var$$d2fe41cb9e081f30$export$2e2bcd8739ae039,Ellipse:$fbbd60cc0608b3d1$var$$3ec2487c3e49f282$export$2e2bcd8739ae039,Path:$fbbd60cc0608b3d1$var$$647bcf0f7995e46a$export$2e2bcd8739ae039,Button:$fbbd60cc0608b3d1$var$$606798555f78d2f8$export$2e2bcd8739ae039,RoundedRect:$fbbd60cc0608b3d1$var$$a2f532ad0cf5b255$export$2e2bcd8739ae039,Rect:$fbbd60cc0608b3d1$var$$527ccdb30b783a29$export$2e2bcd8739ae039,Circle:$fbbd60cc0608b3d1$var$$f2395e373a552439$export$2e2bcd8739ae039,Polygon:$fbbd60cc0608b3d1$var$$6d03225deb842719$export$2e2bcd8739ae039,EquilateralPolygon:$fbbd60cc0608b3d1$var$$22eb7abad679bba0$export$2e2bcd8739ae039,setInterval:$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$export$f34283cc2c2ba8c8,clearInterval:$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$export$3ef6dffe869813b5,tick:function tick(fn){return $fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$export$f34283cc2c2ba8c8(fn,16)},untick:function untick(tickId){$fbbd60cc0608b3d1$var$$b3d8b592aa6dd52e$export$3ef6dffe869813b5(tickId)},caxCanvasId:0,TWEEN:$fbbd60cc0608b3d1$var$$parcel$interopDefault($fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports),To:$fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$export$2e2bcd8739ae039};["Quadratic","Cubic","Quartic","Quintic","Sinusoidal","Exponential","Circular","Elastic","Back","Bounce"].forEach((function(item){var itemLower=item.toLowerCase();$fbbd60cc0608b3d1$var$$84b79afa456f6c66$var$cax.easing[itemLower+"In"]=$fbbd60cc0608b3d1$var$$parcel$interopDefault($fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports).Easing[item].In;$fbbd60cc0608b3d1$var$$84b79afa456f6c66$var$cax.easing[itemLower+"Out"]=$fbbd60cc0608b3d1$var$$parcel$interopDefault($fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports).Easing[item].Out;$fbbd60cc0608b3d1$var$$84b79afa456f6c66$var$cax.easing[itemLower+"InOut"]=$fbbd60cc0608b3d1$var$$parcel$interopDefault($fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports).Easing[item].InOut;$fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$export$2e2bcd8739ae039.easing[itemLower+"In"]=$fbbd60cc0608b3d1$var$$parcel$interopDefault($fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports).Easing[item].In;$fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$export$2e2bcd8739ae039.easing[itemLower+"Out"]=$fbbd60cc0608b3d1$var$$parcel$interopDefault($fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports).Easing[item].Out;$fbbd60cc0608b3d1$var$$f6c01cc9a280eff9$export$2e2bcd8739ae039.easing[itemLower+"InOut"]=$fbbd60cc0608b3d1$var$$parcel$interopDefault($fbbd60cc0608b3d1$var$$b3be0e9a34bf22d9$exports).Easing[item].InOut}));var $fbbd60cc0608b3d1$var$$84b79afa456f6c66$var$isWegame=typeof wx!=="undefined"&&typeof Page==="undefined";$fbbd60cc0608b3d1$var$$84b79afa456f6c66$var$cax.loadImg=function(option){var img=$fbbd60cc0608b3d1$var$$84b79afa456f6c66$var$isWegame?wx.createImage():new Image;img.onload=function(){option.complete(this)};img.src=option.img};$fbbd60cc0608b3d1$var$$84b79afa456f6c66$var$cax.loadImgs=function(option){var result=[];var loaded=0;var len=option.imgs.length;option.imgs.forEach((function(src,index){var img1=$fbbd60cc0608b3d1$var$$84b79afa456f6c66$var$isWegame?wx.createImage():new Image;img1.onload=function(i,img){return function(){result[i]=img;loaded++;option.progress&&option.progress(loaded/len,loaded,i,img,result);if(loaded===len)option.complete&&option.complete(result)}}(index,img1);img1.src=src}))};$fbbd60cc0608b3d1$exports=$fbbd60cc0608b3d1$var$$84b79afa456f6c66$var$cax;$90183b8ed5aae1a0$exports=function(vm){var global=vm.getGlobal();var vImage=vm.getProperty(global,"Image");var vCax=vm.createObject();var vCaxRef=vm.asObject(vCax);vCaxRef.value=$fbbd60cc0608b3d1$exports;var vSetInterval=vm.createFunction("cax.setInterval",(function(fn,interval){interval=vm.asNumber(interval);var id=$fbbd60cc0608b3d1$exports.setInterval((function(){if(vm.isFunction(fn))vm.call(fn)}),interval);return vm.createNumber(id)}));var vClearInterval=vm.createFunction("cax.clearInterval",(function(id){$fbbd60cc0608b3d1$exports.clearInterval(vm.asNumber(id))}));var vTick=vm.createFunction("cax.tick",(function(fn){var id=$fbbd60cc0608b3d1$exports.tick((function(){if(vm.isFunction(fn))vm.call(fn)}));return vm.createNumber(id)}));var vUntick=vm.createFunction("cax.untick",(function(id){$fbbd60cc0608b3d1$exports.untick(vm.asNumber(id))}));var vLoadImg=vm.createFunction("cax.loadImg",(function(option){var vImg=vm.getProperty(option,"img");var vComplete=vm.getProperty(option,"complete");if(vm.isUndefined(vImg))return;$fbbd60cc0608b3d1$exports.loadImg({img:vm.asString(vImg),complete:function(image){if(vm.isFunction(vComplete)){var vObject=vm.createObject();var vObjectRef=vm.asObject(vObject);vObjectRef.value=image;vm.call(vComplete,vm.createUndefined(),vm.new(vImage,vObject))}}})}));var vLoadImgs=vm.createFunction("cax.loadImgs",(function(option){var vImgs=vm.getProperty(option,"imgs");var vComplete=vm.getProperty(option,"complete");var vProgress=vm.getProperty(option,"progress");if(!vm.isArray(vImgs))return;var imgs1=[];var vLength=vm.getProperty(vImgs,"length");var length1=vm.asNumber(vLength);for(var i1=0;i1<length1;i1++)imgs1.push(vm.asString(vm.getProperty(vImgs,i1)));$fbbd60cc0608b3d1$exports.loadImgs({imgs:imgs1,progress:function(percent,loaded,index,img,imgs){if(vm.isFunction(vProgress)){var vPercent=vm.createNumber(percent);var vLoaded=vm.createNumber(loaded);var vIndex=vm.createNumber(index);var vObject=vm.createObject();var vObjectRef=vm.asObject(vObject);vObjectRef.value=img;var vImg=vm.new(vImage,vObject);var vImages=vm.createArray(imgs.length);for(var i=0,length=imgs.length;i<length;i++){if(!imgs[i])continue;vObject=vm.createObject();vObjectRef=vm.asObject(vObject);vObjectRef.value=imgs[i];vm.setProperty(vImages,i,vm.new(vImage,vObject))}vm.call(vProgress,vm.createUndefined(),vPercent,vLoaded,vIndex,vImg,vImages)}},complete:function(imgs){if(vm.isFunction(vComplete)){var vImages=vm.createArray(imgs.length);for(var i=0,length=imgs.length;i<length;i++){var vObject=vm.createObject();var vObjectRef=vm.asObject(vObject);vObjectRef.value=imgs[i];vm.setProperty(vImages,i,vm.new(vImage,vObject))}vm.call(vComplete,vm.createUndefined(),vImages)}}})}));vm.setProperty(vCax,"setInterval",vSetInterval);vm.setProperty(vCax,"clearInterval",vClearInterval);vm.setProperty(vCax,"tick",vTick);vm.setProperty(vCax,"untick",vUntick);vm.setProperty(vCax,"loadImg",vLoadImg);vm.setProperty(vCax,"loadImgs",vLoadImgs);vm.setProperty(global,"cax",vCax)};var $f456757e366d9a79$exports={};$f456757e366d9a79$exports=function(vm){var global=vm.getGlobal();var vEventDispatcher=vm.createFunction("__EventDispatcher__",(function(){}));var vEventDispatcherProto=vm.createObject();var vAddEventListener1=vm.createFunction("EventDispatcher.prototype.addEventListener",(function(vType,vListener,vUseCapture){var vThisRef=vm.asObject(this);var type=vm.asString(vType);var useCapture=vm.asBoolean(vUseCapture);var listener=function(event){if(vm.isFunction(vListener)){var vEvent=vm.getProperty(global,"__Event__");var vValue=vm.createObject();vValue.value.value=event;var vIEvent=vm.new(vEvent,vValue);vm.setProperty(vIEvent,"target",listener.__target__);vm.call(vListener,this,vIEvent)}};vListener.value.__ref__=listener;listener.__target__=$ftNz4$swchelpers.objectSpread({},this);vThisRef.value.addEventListener(type,listener,useCapture)}));var vRemoveEventListener1=vm.createFunction("EventDispatcher.prototype.removeEventListener",(function(vType,vListener,vUseCapture){var vThisRef=vm.asObject(this);var type=vm.asString(vType);var useCapture=vm.asBoolean(vUseCapture);var listener=vListener.value.__ref__;vThisRef.value.removeEventListener(type,listener,useCapture)}));var vOn=vm.createFunction("EventDispatcher.prototype.on",(function(){var _vm;var vAddEventListener=vm.getProperty(this,"addEventListener");(_vm=vm).call.apply(_vm,[vAddEventListener,this].concat(Array.prototype.slice.call(arguments)))}));var vOff=vm.createFunction("EventDispatcher.prototype.off",(function(){var _vm;var vRemoveEventListener=vm.getProperty(this,"removeEventListener");(_vm=vm).call.apply(_vm,[vRemoveEventListener,this].concat(Array.prototype.slice.call(arguments)))}));var vDispatchEvent=vm.createFunction("EventDispatcher.prototype.dispatchEvent",(function(vEvent){var vThisRef=vm.asObject(this);var vObject=vm.getProperty(global,"Object");var vKeysFunc=vm.getProperty(vObject,"keys");var vKeys=vm.call(vKeysFunc,vm.createNull(),vEvent);var vLength=vm.getProperty(vKeys,"length");var length=vm.asNumber(vLength);var event={};for(var i=0;i<length;i++){var vKey=vm.getProperty(vKeys,i);var key=vm.asString(vKey);var vValue=vm.getProperty(vEvent,key);if(vm.isString(vValue))event[key]=vm.asString(vValue);else if(vm.isNumber(vValue))event[key]=vm.asNumber(vValue);else if(vm.isBoolean(vValue))event[key]=vm.asBoolean(vValue);else event[key]=null}event.__target__=this;vThisRef.value.dispatchEvent(event)}));vm.setProperty(vEventDispatcherProto,"addEventListener",vAddEventListener1);vm.setProperty(vEventDispatcherProto,"removeEventListener",vRemoveEventListener1);vm.setProperty(vEventDispatcherProto,"on",vOn);vm.setProperty(vEventDispatcherProto,"off",vOff);vm.setProperty(vEventDispatcherProto,"dispatchEvent",vDispatchEvent);vm.setPrototype(vEventDispatcher,vEventDispatcherProto);vm.setProperty(global,"__EventDispatcher__",vEventDispatcher)};var $36c1f11bd6d88829$exports={};var $36c1f11bd6d88829$require$PROPERTIES=$9c0340e1c7c4c0da$exports.PROPERTIES;$36c1f11bd6d88829$exports=function(vm){var plainValueToBoxedValue=function plainValueToBoxedValue(value){if(value===undefined)return vm.createUndefined();else if(value===null)return vm.createNull();else if(typeof value==="boolean")return vm.createBoolean(value);else if(typeof value==="number")return vm.createNumber(value);else if(typeof value==="string")return vm.createString(value);else return value};var boxedValueToPlainValue=function boxedValueToPlainValue(value,vValue){if(value===undefined)return undefined;else if(value===null)return null;else if(typeof value==="boolean")return vm.asBoolean(vValue);else if(typeof value==="number")return vm.asNumber(vValue);else if(typeof value==="string")return vm.asString(vValue);else return vValue};var global=vm.getGlobal();var vEventDispatcher=vm.getProperty(global,"__EventDispatcher__");var vEventDispatcherProto=vm.getPrototype(vEventDispatcher);var vDisplayObject=vm.createFunction("__DisplayObject__",(function(){var defProperties=function defProperties(object,target,properties){var _loop=function(key){var getter=vm.createFunction("".concat(key,".getter"),(function(){return plainValueToBoxedValue(target[key]||properties[key])}));var setter=vm.createFunction("".concat(key,".setter"),(function(vValue){target[key]=boxedValueToPlainValue(properties[key],vValue);return vValue}));vm.defineProperty(object,key,{get:getter,set:setter})};for(var key in properties)_loop(key);return object};var vThisRef1=vm.asObject(this);var vValueRef=vThisRef1.value||{shadow:$ftNz4$swchelpers.objectSpread({},$36c1f11bd6d88829$require$PROPERTIES.shadow)};vm.call(vEventDispatcher,this);var properties1=$ftNz4$swchelpers.objectSpread({},$36c1f11bd6d88829$require$PROPERTIES);properties1.shadow=null;delete properties1.shadow;defProperties(this,vValueRef,properties1);var shadow=$36c1f11bd6d88829$require$PROPERTIES.shadow;var vShadow=defProperties(vm.createObject(),vValueRef.shadow,shadow);var vShadowGetter=vm.createFunction("shadow.getter",(function(){return vShadow}));var vShadowSetter=vm.createFunction("shadow.setter",(function(vValue){var vThisRef=vm.asObject(this);if(!vm.isObject(vValue)){vShadow=vValue;vThisRef.value.shadow=vValue.value;return vValue}var target={};for(var key in shadow){var property=vm.getProperty(vValue,key);if(vm.isUndefined(property))target[key]=shadow[key];else target[key]=boxedValueToPlainValue(shadow[key],property)}vShadow=defProperties(vValue,target,shadow);vThisRef.value.shadow=target;return vValue}));vm.defineProperty(this,"shadow",{get:vShadowGetter,set:vShadowSetter});var vStageGetter=vm.createFunction("stage.getter",(function(){var vParent=this;while(true){var parent=vm.getProperty(vParent,"parent");if(!vm.isObject(parent))break;vParent=parent}if(vm.isObject(vParent)){var vParentRef=vm.asObject(vParent);if(vParentRef.value instanceof $fbbd60cc0608b3d1$exports.Stage)return vParent}}));vm.defineProperty(this,"stage",{get:vStageGetter});var vCompositeOperationGetter=vm.createFunction("compositeOperation.getter",(function(){var target=this;var compositeOperation;do{if(!vm.isObject(target))break;var vRef=vm.asObject(target);compositeOperation=vRef.value.compositeOperation;target=vm.getProperty(target,"parent")}while(!compositeOperation);if(compositeOperation)return vm.createString(compositeOperation);else return vm.createUndefined()}));var vCompositeOperationSetter=vm.createFunction("compositeOperation.setter",(function(vValue){var vThisRef=vm.asObject(this);vThisRef.value.compositeOperation=vm.asString(vValue);return vValue}));vm.defineProperty(this,"compositeOperation",{get:vCompositeOperationGetter,set:vCompositeOperationSetter});var vHitboxGetter=vm.createFunction("hitbox.getter",(function(){var vThisRef=vm.asObject(this);var hitbox=vThisRef.value.hitbox;var vHitbox=vm.createArray();for(var i=0,length=hitbox.length;i<length;i++)vm.setProperty(vHitbox,i,vm.createNumber(hitbox[i]));return vHitbox}));var vHitboxSetter=vm.createFunction("hitbox.setter",(function(vValue){var vThisRef=vm.asObject(this);var vLength=vm.getProperty(vValue,"length");var length=vm.asNumber(vLength);var hitbox=[];for(var i=0;i<length;i++){var item=vm.getProperty(vValue,i);hitbox.push(vm.asNumber(item))}vThisRef.value.hitbox=hitbox;return vValue}));vm.defineProperty(this,"hitbox",{get:vHitboxGetter,set:vHitboxSetter});var vIgnoreHitGetter=vm.createFunction("ignoreHit.getter",(function(){var vThisRef=vm.asObject(this);return vm.createBoolean(vThisRef.value.ignoreHit)}));var vIgnoreHitSetter=vm.createFunction("ignoreHit.setter",(function(vIgnoreHit){var vThisRef=vm.asObject(this);vThisRef.value.ignoreHit=vm.asBoolean(vIgnoreHit);return vIgnoreHit}));vm.defineProperty(this,"ignoreHit",{get:vIgnoreHitGetter,set:vIgnoreHitSetter})}));var vFunction=vm.createFunction("function",(function(){}));vm.setPrototype(vFunction,vEventDispatcherProto);var vDisplayObjectProto=vm.new(vFunction);var vClip=vm.createFunction("DisplayObject.prototype.clip",(function(vGraphics,vNotClipRuleNonzero){var vThisRef=vm.asObject(this);var vGraphicsRef=vm.isObject(vGraphics)?vm.asObject(vGraphics):vm.createUndefined();var notClipRuleNonzero=vm.asBoolean(vNotClipRuleNonzero);vThisRef.value.clip(vGraphicsRef.value,notClipRuleNonzero)}));var vUnclip=vm.createFunction("DisplayObject.prototype.unclip",(function(){var vThisRef=vm.asObject(this);vThisRef.value.unclip()}));var vAbsClip=vm.createFunction("DisplayObject.prototype.absClip",(function(vGraphics,vNotClipRuleNonzero){var vThisRef=vm.asObject(this);var vGraphicsRef=vm.isObject(vGraphics)?vm.asObject(vGraphics):vm.createUndefined();var notClipRuleNonzero=vm.asBoolean(vNotClipRuleNonzero);vThisRef.value.absClip(vGraphicsRef.value,notClipRuleNonzero)}));var vUnAbsClip=vm.createFunction("DisplayObject.prototype.unAbsClip",(function(){var vThisRef=vm.asObject(this);vThisRef.value.unAbsClip()}));var vCache=vm.createFunction("DisplayObject.prototype.cache",(function(x,y,width,height,scale,cacheUpdating){var vThisRef=vm.asObject(this);x=!vm.isNumber(x)?0:vm.asNumber(x);y=!vm.isNumber(y)?0:vm.asNumber(y);width=!vm.isNumber(width)?0:vm.asNumber(width);height=!vm.isNumber(height)?0:vm.asNumber(height);scale=!vm.isNumber(scale)?0:vm.asNumber(scale);cacheUpdating=!vm.isBoolean(cacheUpdating)?false:vm.asBoolean(cacheUpdating);vm.setProperty(this,"cacheUpdating",vm.createBoolean(cacheUpdating));vThisRef.value.cache(x,y,width,height,scale,cacheUpdating);return vm.createUndefined()}));var vUncache=vm.createFunction("DisplayObject.prototype.uncache",(function(){var vThisRef=vm.asObject(this);vThisRef.value.uncache();return vm.createUndefined()}));var vFilter=vm.createFunction("DisplayObject.prototype.filter",(function(filterName){var vThisRef=vm.asObject(this);vThisRef.value.filter(vm.asString(filterName));return vm.createUndefined()}));var vUnfilter=vm.createFunction("DisplayObject.prototype.unfilter",(function(){var vThisRef=vm.asObject(this);vThisRef.value.unfilter();return vm.createUndefined()}));var vSetTransform=vm.createFunction("DisplayObject.prototype.setTransform",(function(){var _value;var vThisRef=vm.asObject(this);var temp=[];for(var i=0,length=arguments.length;i<length;i++)temp.push(vm.asNumber(arguments[i]));(_value=vThisRef.value).setTransform.apply(_value,$ftNz4$swchelpers.toConsumableArray(temp))}));var vSetMatrix=vm.createFunction("DisplayObject.prototype.setMatrix",(function(){var _value;var vThisRef=vm.asObject(this);var temp=[];for(var i=0,length=arguments.length;i<length;i++)temp.push(vm.asNumber(arguments[i]));(_value=vThisRef.value).setMatrix.apply(_value,$ftNz4$swchelpers.toConsumableArray(temp))}));var vDestroy=vm.createFunction("DisplayObject.prototype.destroy",(function(){var vThisRef=vm.asObject(this);vThisRef.value.destroy();var vParent=vm.getProperty(this,"parent");var vRemove=vm.getProperty(vParent,"remove");vm.call(vRemove,vParent,this)}));vm.setProperty(vDisplayObjectProto,"clip",vClip);vm.setProperty(vDisplayObjectProto,"unclip",vUnclip);vm.setProperty(vDisplayObjectProto,"absClip",vAbsClip);vm.setProperty(vDisplayObjectProto,"unAbsClip",vUnAbsClip);vm.setProperty(vDisplayObjectProto,"cache",vCache);vm.setProperty(vDisplayObjectProto,"uncache",vUncache);vm.setProperty(vDisplayObjectProto,"filter",vFilter);vm.setProperty(vDisplayObjectProto,"unfilter",vUnfilter);vm.setProperty(vDisplayObjectProto,"setTransform",vSetTransform);vm.setProperty(vDisplayObjectProto,"setMatrix",vSetMatrix);vm.setProperty(vDisplayObjectProto,"destroy",vDestroy);vm.setPrototype(vDisplayObject,vDisplayObjectProto);vm.setProperty(global,"__DisplayObject__",vDisplayObject)};var $4bc93b7ba913b351$exports={};var $4bc93b7ba913b351$require$PROPERTIES=$9c0340e1c7c4c0da$exports.PROPERTIES;$4bc93b7ba913b351$exports=function(vm){var global=vm.getGlobal();var vCax=vm.getProperty(global,"cax");var vDisplayObject1=vm.getProperty(global,"__DisplayObject__");var vDisplayObjectProto1=vm.getPrototype(vDisplayObject1);var vGroup=vm.createFunction("Group",(function(){var vThisRef=vm.asObject(this);var vDisplayObject=vm.getProperty(global,"__DisplayObject__");if(!vThisRef.value)vThisRef.value=new $fbbd60cc0608b3d1$exports.Group;vm.setProperty(this,"children",vm.createArray());vThisRef.value.shadow=$ftNz4$swchelpers.objectSpread({},$4bc93b7ba913b351$require$PROPERTIES.shadow);return vm.call(vDisplayObject,this)}));var vFunction=vm.createFunction("function",(function(){}));vm.setPrototype(vFunction,vDisplayObjectProto1);var vGroupProto=vm.new(vFunction);var vAdd=vm.createFunction("Group.prototype.add",(function(){var vThisRef=vm.asObject(this);var vChildren=vm.getProperty(this,"children");var vPush=vm.getProperty(vChildren,"push");for(var i=0;i<arguments.length;i++){var vChild=arguments[i];var vChildRef=vm.asObject(vChild);var vParent=vm.getProperty(vChild,"parent");if(vm.isObject(vParent)){var vChildren1=vm.getProperty(vParent,"children");var vIndexOf=vm.getProperty(vChildren1,"indexOf");var vRemoveChildAt=vm.getProperty(vParent,"removeChildAt");var vIndex=vm.call(vIndexOf,vChildren1,vChild);vm.call(vRemoveChildAt,vParent,vIndex)}vm.call(vPush,vChildren,vChild);vm.setProperty(vChild,"parent",this);vThisRef.value.add(vChildRef.value)}}));var vAddChildAt1=vm.createFunction("Group.prototype.addChildAt",(function(vChild,vIndex){var vThisRef=vm.asObject(this);var vChildRef=vm.asObject(vChild);var vParent=vm.getProperty(vChild,"parent");if(vm.isObject(vParent)){var vChildren=vm.getProperty(vParent,"children");var vIndexOf=vm.getProperty(vChildren,"indexOf");var vRemoveChildAt=vm.getProperty(vParent,"removeChildAt");var vIndex1=vm.call(vIndexOf,vChildren,vChild);vm.call(vRemoveChildAt,vParent,vIndex1)}vm.setProperty(vChild,"parent",this);var vChildren2=vm.getProperty(this,"children");var vSplice=vm.getProperty(vChildren2,"splice");vm.call(vSplice,vChildren2,vIndex,vm.createNumber(0),vChild);vThisRef.value.addChildAt(vChildRef.value,vm.asNumber(vIndex))}));var vRemoveChildAt1=vm.createFunction("Group.prototype.removeChildAt",(function(vIndex){var vThisRef=vm.asObject(this);var vChildren=vm.getProperty(this,"children");var vChild=vm.getProperty(vChildren,vIndex);if(vm.isObject(vChild))vm.setProperty(vChild,"parent",vm.createNull());var vSplice=vm.getProperty(vChildren,"splice");vm.call(vSplice,vChildren,vIndex,vm.createNumber(1));vThisRef.value.removeChildAt(vm.asNumber(vIndex))}));var vReplace=vm.createFunction("Group.prototype.replace",(function(vCurrent,vPre){var vParent=vm.getProperty(vPre,"parent");var vChildren=vm.getProperty(vParent,"children");var vIndexOf=vm.getProperty(vChildren,"indexOf");var vIndex=vm.call(vIndexOf,vChildren,vPre);var vRemoveChildAt=vm.getProperty(this,"removeChildAt");var vAddChildAt=vm.getProperty(this,"addChildAt");vm.call(vRemoveChildAt,this,vIndex);vm.call(vAddChildAt,this,vCurrent,vIndex)}));var vRemove=vm.createFunction("Group.prototype.remove",(function(){var _value;var vThisRef=vm.asObject(this);var vChildren=vm.getProperty(this,"children");var vSplice=vm.getProperty(vChildren,"splice");var len=arguments.length;var temp=[];for(var i=0;i<len;i++){var vArgRef=vm.asObject(arguments[i]);var vCLen=vm.getProperty(vChildren,"length");var cLen=vm.asNumber(vCLen);temp.push(vArgRef.value);for(var j=cLen-1;j>=0;j--){var vChild=vm.getProperty(vChildren,j);var vChildRef=vm.asObject(vChild);if(vArgRef.value.id===vChildRef.value.id){vm.setProperty(vChild,"parent",vm.createNull());vm.call(vSplice,vChildren,vm.createNumber(j),vm.createNumber(1))}}}(_value=vThisRef.value).remove.apply(_value,$ftNz4$swchelpers.toConsumableArray(temp))}));var vEmpty1=vm.createFunction("Group.prototype.empty",(function(){var vThisRef=vm.asObject(this);var vChildren=vm.getProperty(this,"children");var vLength=vm.getProperty(vChildren,"length");var length=vm.asNumber(vLength);for(var i=0;i<length;i++){var vChild=vm.getProperty(vChildren,i);vm.setProperty(vChild,i,vm.createNull())}vm.setProperty(vChildren,"length",vm.createNumber(0));vThisRef.value.empty()}));var vDestroy1=vm.createFunction("Group.prototype.destroy",(function(){var vThisRef=vm.asObject(this);var vEmpty=vm.getProperty(this,"empty");vm.call(vEmpty,this);var vParent=vm.getProperty(this,"parent");if(vm.isObject(vParent)){var vDisplayObject=vm.getProperty(global,"__DisplayObject__");var vDisplayObjectProto=vm.getPrototype(vDisplayObject);var vDestroy=vm.getProperty(vDisplayObjectProto,"destroy");vm.call(vDestroy,this)}vThisRef.value.destroy()}));vm.setProperty(vGroupProto,"add",vAdd);vm.setProperty(vGroupProto,"addChildAt",vAddChildAt1);vm.setProperty(vGroupProto,"removeChildAt",vRemoveChildAt1);vm.setProperty(vGroupProto,"replace",vReplace);vm.setProperty(vGroupProto,"remove",vRemove);vm.setProperty(vGroupProto,"empty",vEmpty1);vm.setProperty(vGroupProto,"destroy",vDestroy1);vm.setPrototype(vGroup,vGroupProto);vm.setProperty(vCax,"Group",vGroup)};var $7c4f32d9022ca3ab$exports={};$7c4f32d9022ca3ab$exports=function(vm){var global=vm.getGlobal();var vCax=vm.getProperty(global,"cax");var vGroup=vm.getProperty(vCax,"Group");var vGroupProto=vm.getPrototype(vGroup);var vStage=vm.createFunction("Stage",(function(){var vThisRef=vm.asObject(this);var _iteratorNormalCompletion=true,_didIteratorError=false,_iteratorError=undefined;try{var _this=this,_loop=function(_iterator,_step){var key=_step.value;var getter=vm.createFunction("getter.".concat(key),(function(){return vm.createNumber(vThisRef.value[key])}));var setter=vm.createFunction("setter.".concat(key),(function(vValue){vThisRef.value[key]=vm.asNumber(vValue);return vValue}));vm.defineProperty(_this,key,{get:getter,set:setter})};for(var _iterator=["width","height","disableMoveDetection","moveDetectionInterval"][Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true)_loop(_iterator,_step)}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}var length=arguments.length;var vWidth=arguments[0];var vHeight=arguments[1];var vRenderTo=arguments[2];var width,height,renderTo,weapp;if(length===0)vThisRef.value=new $fbbd60cc0608b3d1$exports.Stage;else if(length===4){width=vm.asNumber(vWidth);height=vm.asNumber(vHeight);renderTo=vm.isObject(vRenderTo)?vm.asObject(vRenderTo):vRenderTo;weapp=vm.asObject(arguments[3]).value;vThisRef.value=new $fbbd60cc0608b3d1$exports.Stage(width,height,renderTo.value,weapp)}else if(length===1){width=vm.isObject(vWidth)?vm.asObject(vWidth):vWidth;vThisRef.value=new $fbbd60cc0608b3d1$exports.Stage(width.value)}else{width=vm.asNumber(vWidth);height=vm.asNumber(vHeight);renderTo=vm.isObject(vRenderTo)?vm.asObject(vRenderTo):vRenderTo;vThisRef.value=new $fbbd60cc0608b3d1$exports.Stage(width,height,renderTo.value)}return vm.call(vGroup,this)}));var vFunction=vm.createFunction("function",(function(){}));vm.setPrototype(vFunction,vGroupProto);var vStageProto=vm.new(vFunction);var vUpdate=vm.createFunction("update",(function(){var vThisRef=vm.asObject(this);vThisRef.value.update()}));var vScaleEventPoint=vm.createFunction("scaleEventPoint",(function(vX,vY){var vThisRef=vm.asObject(this);vThisRef.value.scaleEventPoint(vm.asNumber(vX),vm.asNumber(vY))}));var vOn=vm.createFunction("on",(function(vType,vFn){var vThisRef=vm.asObject(this);var type=vm.asString(vType);var fn=function(event){if(vm.isFunction(vFn)){var vEvent=vm.getProperty(global,"__Event__");var vValue=vm.createObject();vValue.value.value=event;var vIEvent=vm.new(vEvent,vValue);vm.setProperty(vIEvent,"target",fn.__target__);vm.call(vFn,this,vIEvent)}};vFn.value.__ref__=fn;fn.__target__=$ftNz4$swchelpers.objectSpread({},this);vThisRef.value.on(type,fn)}));var vOff=vm.createFunction("off",(function(vType,vFn){var vThisRef=vm.asObject(this);var type=vm.asString(vType);var fn=vFn.value.__ref__;vThisRef.value.off(type,fn)}));vm.setProperty(vStageProto,"update",vUpdate);vm.setProperty(vStageProto,"scaleEventPoint",vScaleEventPoint);vm.setProperty(vStageProto,"on",vOn);vm.setProperty(vStageProto,"off",vOff);vm.setPrototype(vStage,vStageProto);vm.setProperty(vCax,"Stage",vStage)};var $841afdb02fe85ab6$exports={};var $841afdb02fe85ab6$require$PROPERTIES=$9c0340e1c7c4c0da$exports.PROPERTIES;$841afdb02fe85ab6$exports=function(vm){var global=vm.getGlobal();var vCax=vm.getProperty(global,"cax");var vDisplayObject=vm.getProperty(global,"__DisplayObject__");var vDisplayObjectProto=vm.getPrototype(vDisplayObject);var vBitmap=vm.createFunction("Bitmap",(function(img,onLoad){var vThisRef=vm.asObject(this);if(!vm.isString(img)){img=vm.asObject(img);img=img.value}else img=vm.asString(img);vThisRef.value=new $fbbd60cc0608b3d1$exports.Bitmap(img,(function(){if(vm.isFunction(onLoad))vm.call(onLoad)}));var _iteratorNormalCompletion=true,_didIteratorError=false,_iteratorError=undefined;try{var _this=this,_loop=function(_iterator,_step){var key=_step.value;var getter=vm.createFunction("".concat(key,".getter"),(function(){return vm.createNumber(vThisRef.value[key])}));var setter=vm.createFunction("".concat(key,".setter"),(function(vValue){vThisRef.value[key]=vm.asNumber(vValue);return vValue}));vm.defineProperty(_this,key,{get:getter,set:setter})};for(var _iterator=["width","height"][Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true)_loop(_iterator,_step)}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}var rectGetter=vm.createFunction("rect.getter",(function(){var rect=vThisRef.value.rect;var vRect=vm.createArray();for(var i=0;i<rect.length;i++)vm.setProperty(vRect,i,vm.createNumber(rect[i]));return vRect}));var rectSetter=vm.createFunction("rect.setter",(function(vRect){var vLength=vm.getProperty(vRect,"length");var length=vm.asNumber(vLength);for(var i=0;i<length;i++){var vValue=vm.getProperty(vRect,i);vThisRef.value.rect[i]=vm.asNumber(vValue)}return vRect}));var imgGetter=vm.createFunction("img.getter",(function(){var vObject=vm.createObject();var vObjectRef=vm.asObject(vObject);vObjectRef.value=vThisRef.value.img;return vm.new(vImage,vObject)}));vm.defineProperty(this,"rect",{get:rectGetter,set:rectSetter});vm.defineProperty(this,"img",{get:imgGetter});vThisRef.value.shadow=$ftNz4$swchelpers.objectSpread({},$841afdb02fe85ab6$require$PROPERTIES.shadow);return vm.call(vDisplayObject,this)}));var vFunction=vm.createFunction("function",(function(){}));vm.setPrototype(vFunction,vDisplayObjectProto);var vBitmapProto=vm.new(vFunction);var vClone=vm.createFunction("Bitmap.prototype.clone",(function(){var vThisRef=vm.asObject(this);var img=vThisRef.value.img;var vSrc=vm.createString(typeof img==="string"?img:img.src);var vCloneBitmap=vm.new(vBitmap,vSrc);var cloneKeyProp=["x","y","scaleX","scaleY","rotation","skewX","skewY","originX","originY","width","height","cursor"];var _iteratorNormalCompletion=true,_didIteratorError=false,_iteratorError=undefined;try{for(var _iterator=cloneKeyProp[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var key=_step.value;var vValue=vm.getProperty(this,key);vm.setProperty(vCloneBitmap,key,vValue)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return vCloneBitmap}));vm.setProperty(vBitmapProto,"clone",vClone);vm.setPrototype(vBitmap,vBitmapProto);vm.setProperty(vCax,"Bitmap",vBitmap)};var $4130cbda7f928726$exports={};$4130cbda7f928726$exports=function(vm){var global=vm.getGlobal();var vCax=vm.getProperty(global,"cax");var vDisplayObject=vm.getProperty(global,"__DisplayObject__");var vDisplayObjectProto=vm.getPrototype(vDisplayObject);var vImage=vm.getProperty(global,"Image");var vSprite=vm.createFunction("Sprite",(function(vOption){var vThisRef=vm.asObject(this);var vFramerate=vm.getProperty(vOption,"framerate");var vImgs=vm.getProperty(vOption,"imgs");var vFrames=vm.getProperty(vOption,"frames");var vAnimations=vm.getProperty(vOption,"animations");var vPlayOnce=vm.getProperty(vOption,"playOnce");var vCurrentAnimation=vm.getProperty(vOption,"currentAnimation");var vAnimationEnd=vm.getProperty(vOption,"animationEnd");var option={};if(vm.isNumber(vFramerate))option.framerate=vm.asNumber(vFramerate);if(vm.isArray(vImgs)){option.imgs=[];var vLength=vm.getProperty(vImgs,"length");var length=vm.asNumber(vLength);for(var i=0;i<length;i++){var vImg=vm.getProperty(vImgs,i);option.imgs.push(vm.asString(vImg))}}if(vm.isArray(vFrames)){option.frames=[];var vFramesLength=vm.getProperty(vFrames,"length");var framesLength=vm.asNumber(vFramesLength);for(var i1=0;i1<framesLength;i1++){var vFrame=vm.getProperty(vFrames,i1);var vLength1=vm.getProperty(vFrame,"length");var length1=vm.asNumber(vLength1);var frame=[];for(var j=0;j<length1;j++){var vItem=vm.getProperty(vFrame,j);frame.push(vm.asNumber(vItem))}option.frames.push(frame)}}if(vm.isObject(vAnimations)){option.animations={};var vObject=vm.getProperty(global,"Object");var vKeysFunc=vm.getProperty(vObject,"keys");var vKeys=vm.call(vKeysFunc,vm.createUndefined(),vAnimations);var vKeysLength=vm.getProperty(vKeys,"length");var keysLength=vm.asNumber(vKeysLength);for(var i2=0;i2<keysLength;i2++){var vKey=vm.getProperty(vKeys,i2);var key=vm.asString(vKey);var vAnimation=vm.getProperty(vAnimations,key);var vFrames1=vm.getProperty(vAnimation,"frames");var vFramesLength1=vm.getProperty(vFrames1,"length");var framesLength1=vm.asNumber(vFramesLength1);var frames=[];option.animations[key]={frames:frames};for(var j1=0;j1<framesLength1;j1++){var vFrame1=vm.getProperty(vFrames1,j1);frames.push(vm.asNumber(vFrame1))}}}if(vm.isBoolean(vPlayOnce))option.playOnce=vm.asBoolean(vPlayOnce);if(vm.isString(vCurrentAnimation))option.currentAnimation=vm.asString(vCurrentAnimation);if(vm.isFunction(vAnimationEnd))option.animationEnd=function(){vm.call(vAnimationEnd)};var _iteratorNormalCompletion=true,_didIteratorError=false,_iteratorError=undefined;try{var _this=this,_loop=function(_iterator,_step){var key=_step.value;var getter=vm.createFunction("".concat(key,".getter"),(function(){return vm.createNumber(vThisRef.value[key])}));var setter=vm.createFunction("".concat(key,".setter"),(function(vValue){vThisRef.value[key]=vm.asNumber(vValue);return vValue}));vm.defineProperty(_this,key,{get:getter,set:setter})};for(var _iterator=["currentFrameIndex","animationFrameIndex","interval","paused"][Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true)_loop(_iterator,_step)}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}var imgGetter=vm.createFunction("img.getter",(function(){var vObject=vm.createObject();var vObjectRef=vm.asObject(vObject);vObjectRef.value=vThisRef.value.img;return vm.new(vImage,vObject)}));vm.defineProperty(this,"img",{get:imgGetter});vThisRef.value=new $fbbd60cc0608b3d1$exports.Sprite(option);return vm.call(vDisplayObject,this)}));var vFunction=vm.createFunction("function",(function(){}));vm.setPrototype(vFunction,vDisplayObjectProto);var vSpriteProto=vm.new(vFunction);var vGotoAndPlay=vm.createFunction("Sprite.prototype.gotoAndPlay",(function(vAnimationName){var vThisRef=vm.asObject(this);vThisRef.value.gotoAndPlay(vm.asString(vAnimationName))}));var vGotoAndStop=vm.createFunction("Sprite.prototype.gotoAndStop",(function(vAnimationName){var vThisRef=vm.asObject(this);vThisRef.value.gotoAndStop(vm.asString(vAnimationName))}));var vGotoAndPlayOnce=vm.createFunction("Sprite.prototype.gotoAndPlayOnce",(function(vAnimationName){var vThisRef=vm.asObject(this);vThisRef.value.gotoAndPlayOnce(vm.asString(vAnimationName))}));vm.setProperty(vSpriteProto,"gotoAndPlay",vGotoAndPlay);vm.setProperty(vSpriteProto,"gotoAndStop",vGotoAndStop);vm.setProperty(vSpriteProto,"gotoAndPlayOnce",vGotoAndPlayOnce);vm.setPrototype(vSprite,vSpriteProto);vm.setProperty(vCax,"Sprite",vSprite)};var $8af08f853bfef2bc$exports={};$8af08f853bfef2bc$exports=function(vm){var global=vm.getGlobal();var vCax=vm.getProperty(global,"cax");var vDisplayObject=vm.getProperty(global,"__DisplayObject__");var vDisplayObjectProto=vm.getPrototype(vDisplayObject);var vText1=vm.createFunction("Text",(function(vText,vOption){var vThisRef=vm.asObject(this);var text=vm.asString(vText);var option={};var _iteratorNormalCompletion=true,_didIteratorError=false,_iteratorError=undefined;if(vm.isObject(vOption))try{for(var _iterator=["font","color","textAlign","baseline","stroke"][Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var key=_step.value;var vValue=vm.getProperty(vOption,key);vm.setProperty(this,key,vValue);option[key]=vm.isUndefined(vValue)?undefined:vm.asString(vValue)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}vThisRef.value=new $fbbd60cc0608b3d1$exports.Text(text,option);return vm.call(vDisplayObject,this)}));var vFunction=vm.createFunction("function",(function(){}));vm.setPrototype(vFunction,vDisplayObjectProto);var vTextProto=vm.new(vFunction);var vGetWidth=vm.createFunction("Text.prototype.getWidth",(function(){var vThisRef=vm.asObject(this);var width=vThisRef.value.getWidth();return vm.createNumber(width)}));var vMeasureText=vm.createFunction("Text.prototype.measureText",(function(){var canvas=null;if(typeof wx!=="undefined"&&typeof wx.createCanvas==="function")canvas=wx.createCanvas();else canvas=document.createElement("canvas");var context=canvas.getContext("2d");var vThisRef=vm.asObject(this);var text=vThisRef.value;context.font=text.font;context.textAlign="left";context.textBaseline="top";context.fillStyle="#ff0000";var width=Math.floor(context.measureText("Mg").width);var height=Math.floor(width*1.2);canvas.width=width;canvas.height=height;context.font=text.font;context.textAlign="left";context.textBaseline="top";context.fillStyle="#ff0000";context.fillText("Mg",0,0);var data=context.getImageData(0,0,width,height).data;var top=0;var bottom=0;top:for(var i=0;i<height;i++){for(var j=0;j<width;j++)if(data[i*width*4+j*4]){top=i;break top}}bottom:for(var i1=height;i1>=0;i1--){for(var j1=0;j1<width;j1++)if(data[(i1-1)*4*width+j1*4]){bottom=i1;break bottom}}var vObject=vm.createObject();vm.setProperty(vObject,"width",vm.createNumber(context.measureText(text.text).width));vm.setProperty(vObject,"height",vm.createNumber(bottom-top));vm.setProperty(vObject,"top",vm.createNumber(top));vm.setProperty(vObject,"bottom",vm.createNumber(bottom));return vObject}));vm.setProperty(vTextProto,"getWidth",vGetWidth);vm.setProperty(vTextProto,"measureText",vMeasureText);vm.setPrototype(vText1,vTextProto);vm.setProperty(vCax,"Text",vText1)};var $2a6b514a6b9b8f92$exports={};$2a6b514a6b9b8f92$exports=function(vm){var global=vm.getGlobal();var vCax=vm.getProperty(global,"cax");var vDisplayObject=vm.getProperty(global,"__DisplayObject__");var vDisplayObjectProto=vm.getPrototype(vDisplayObject);var vGraphics=vm.createFunction("Graphics",(function(){var vThisRef=vm.asObject(this);if(!vThisRef.value)vThisRef.value=new $fbbd60cc0608b3d1$exports.Graphics;return vm.call(vDisplayObject,this)}));var vFunction=vm.createFunction("function",(function(){}));vm.setPrototype(vFunction,vDisplayObjectProto);var vGraphicsProto=vm.new(vFunction);var keyMethods=["clearRect","clear","rect","strokeRect","fillRect","beginPath","arc","closePath","stroke","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","createRadialGradient","createLinearGradient","fillGradient","arcTo","fill","addColorStop","fillStyle","strokeStyle","lineWidth","lineCap","lineDashOffset","lineJoin","miterLimit"];var _iteratorNormalCompletion=true,_didIteratorError=false,_iteratorError=undefined;try{var _loop=function(_iterator,_step){var item1=_step.value;var vValue=vm.createFunction("Graphics.prototype.".concat(item1),(function(){var _value;var vThisRef=vm.asObject(this);var temp=[];for(var i=0,length=arguments.length;i<length;i++){var item=arguments[i];if(vm.isString(item))temp.push(vm.asString(item));else if(vm.isNumber(item))temp.push(vm.asNumber(item));else if(vm.isBoolean(item))temp.push(vm.asBoolean(item));else temp.push(undefined)}(_value=vThisRef.value)[item1].apply(_value,$ftNz4$swchelpers.toConsumableArray(temp));return this}));vm.setProperty(vGraphicsProto,item1,vValue)};for(var _iterator=keyMethods[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true)_loop(_iterator,_step)}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}var vSetLineDash=vm.createFunction("Graphics.prototype.setLineDash",(function(vSegments){var vThisRef=vm.asObject(this);if(vm.isArray(vSegments)){var segments=[];var vLength=vm.getProperty(vSegments,"length");var length=vm.asNumber(vLength);for(var i=0;i<length;i++){var vValue=vm.getProperty(vSegments,i);segments.push(vm.asNumber(vValue))}vThisRef.value.setLineDash(segments)}return this}));vm.setProperty(vGraphicsProto,"setLineDash",vSetLineDash);vm.setPrototype(vGraphics,vGraphicsProto);vm.setProperty(vCax,"Graphics",vGraphics)};var $ccab8fd1bf890cba$exports={};var $ccab8fd1bf890cba$require$SHAPES=$9c0340e1c7c4c0da$exports.SHAPES;$ccab8fd1bf890cba$exports=function(vm){var _loop=function(key){var vShape=vm.createFunction(key,(function(){var vThisRef=vm.asObject(this);var temp=[];for(var i=0,length=arguments.length;i<length;i++){var match=$ccab8fd1bf890cba$require$SHAPES[key].props[i];temp.push(boxedValueToPlainValue(arguments[i],$ccab8fd1bf890cba$require$SHAPES[key][match]))}vThisRef.value=$ftNz4$swchelpers.construct($fbbd60cc0608b3d1$exports[key],$ftNz4$swchelpers.toConsumableArray(temp));return vm.call(vGraphics,this)}));var vFunction=vm.createFunction("function",(function(){}));vm.setPrototype(vFunction,vGraphicsProto);vm.setPrototype(vShape,vm.new(vFunction));vm.setProperty(vCax,key,vShape)};var global=vm.getGlobal();var vCax=vm.getProperty(global,"cax");var vGraphics=vm.getProperty(vCax,"Graphics");var vGraphicsProto=vm.getPrototype(vGraphics);function boxedValueToPlainValue(vValue,property){if(property===Number)return vm.isUndefined(vValue)?undefined:vm.asNumber(vValue);else if(property===String)return vm.isUndefined(vValue)?undefined:vm.asString(vValue);else if(property.length){var vLength=vm.getProperty(vValue,"length");var length=vm.asNumber(vLength);var array=[];for(var i=0;i<length;i++){var vProp=vm.getProperty(vValue,i);array[i]=boxedValueToPlainValue(vProp,property[0])}return array}else{var object={};for(var key in property){var vProp1=vm.getProperty(vValue,key);object[key]=boxedValueToPlainValue(vProp1,property[key])}return object}}for(var key in $ccab8fd1bf890cba$require$SHAPES)_loop(key)};var $9041265fa09c4421$exports={};$9041265fa09c4421$exports=function(vm){var global=vm.getGlobal();var vCax=vm.getProperty(global,"cax");var vGroup=vm.getProperty(vCax,"Group");var vGroupProto=vm.getPrototype(vGroup);var vButton=vm.createFunction("Button",(function(vOption){var vThisRef=vm.asObject(this);var vX=vm.getProperty(vOption,"x");var vY=vm.getProperty(vOption,"y");var vWidth=vm.getProperty(vOption,"width");var vHeight=vm.getProperty(vOption,"height");var vFont=vm.getProperty(vOption,"font");var vText=vm.getProperty(vOption,"text");var vTextX=vm.getProperty(vOption,"textX");var vTextY=vm.getProperty(vOption,"textY");var vColor=vm.getProperty(vOption,"color");var vImage=vm.getProperty(vOption,"image");var vBgColor=vm.getProperty(vOption,"bgColor");var vBgImage=vm.getProperty(vOption,"bgImage");var vBorderRadius=vm.getProperty(vOption,"borderRadius");var vBorderColor=vm.getProperty(vOption,"borderColor");var option={};var keyNums=[["x",vX],["y",vY],["width",vWidth],["height",vHeight],["textX",vTextX],["textY",vTextY],["borderRadius",vBorderRadius]];var _iteratorNormalCompletion=true,_didIteratorError=false,_iteratorError=undefined;try{for(var _iterator=keyNums[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var item=_step.value;if(vm.isNumber(item[1]))option[item[0]]=vm.asNumber(item[1])}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}var keyStrs=[["font",vFont],["text",vText],["color",vColor],["bgColor",vBgColor],["borderColor",vBorderColor]];var _iteratorNormalCompletion1=true,_didIteratorError1=false,_iteratorError1=undefined;try{for(var _iterator1=keyStrs[Symbol.iterator](),_step1;!(_iteratorNormalCompletion1=(_step1=_iterator1.next()).done);_iteratorNormalCompletion1=true){var item1=_step1.value;if(vm.isString(item1[1]))option[item1[0]]=vm.asString(item1[1])}}catch(err){_didIteratorError1=true;_iteratorError1=err}finally{try{if(!_iteratorNormalCompletion1&&_iterator1.return!=null){_iterator1.return()}}finally{if(_didIteratorError1){throw _iteratorError1}}}var keyArrs=[["image",vImage],["bgImage",vBgImage]];var _iteratorNormalCompletion2=true,_didIteratorError2=false,_iteratorError2=undefined;try{for(var _iterator2=keyArrs[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var item2=_step2.value;if(vm.isArray(item2[1])){var vLength=vm.getProperty(item2[1],"length");var length=vm.asNumber(vLength);var image=[];for(var i=0;i<length;i++){var vValue=vm.getProperty(item2[1],i);if(i>0)image.push(vm.asNumber(vValue));else image.push(vm.asString(vValue))}option[item2[0]]=image}}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}vThisRef.value=new $fbbd60cc0608b3d1$exports.Button(option);return vm.call(vGroup,this)}));var vFunction=vm.createFunction("function",(function(){}));vm.setPrototype(vFunction,vGroupProto);var vButtonProto=vm.new(vFunction);vm.setPrototype(vButton,vButtonProto);vm.setProperty(vCax,"Button",vButton)};var $5d88098578def7bd$exports={};var $5d88098578def7bd$var$EASING=$9c0340e1c7c4c0da$exports.EASING,$5d88098578def7bd$var$isPlainObject=$9c0340e1c7c4c0da$exports.isPlainObject;$5d88098578def7bd$exports=function(vm){var global=vm.getGlobal();var vCax=vm.getProperty(global,"cax");var vTo=vm.createFunction("To",(function(){}));var vGet=vm.createFunction("get",(function(vElement){var vToValue=vm.new(vTo);var vToValueRef=vm.asObject(vToValue);var vElementRef=vm.asObject(vElement);var target=vElementRef.value;if(!target){target={};var vObject=vm.getProperty(global,"Object");var vKeysFunc=vm.getProperty(vObject,"keys");var vKeys=vm.call(vKeysFunc,vm.createUndefined(),vElement);var vLength=vm.getProperty(vKeys,"length");var length=vm.asNumber(vLength);for(var i=0;i<length;i++){var vKey=vm.getProperty(vKeys,i);var key=vm.asString(vKey);var vValue=vm.getProperty(vElement,key);if(vm.isNumber(vValue))target[key]=vm.asNumber(vValue)}}vToValueRef.value=$fbbd60cc0608b3d1$exports.To.get(target);vToValueRef.value.__target__=vElement;return vToValue}));var vToProto=vm.createObject();var key0or1ArgFuns=["x","y","z","rotation","scaleX","scaleY","skewX","skewY","originX","originY","alpha","wait","start","pause","toggle","play","stop","animate","begin","progress","end","cycle","then"];var _iteratorNormalCompletion=true,_didIteratorError=false,_iteratorError=undefined;try{var _loop1=function(_iterator,_step){var key2=_step.value;var vFun=vm.createFunction(key2,(function(){var _arguments=arguments,_loop=function(i,length){var vItem=_arguments[i];if(vm.isNumber(vItem))temp.push(vm.asNumber(vItem));else if(vm.isString(vItem))temp.push(vm.asString(vItem));else if(vm.isFunction(vItem))temp.push((function(object){var target=vThisRef.value.__target__;if($5d88098578def7bd$var$isPlainObject(object)){target=vm.createObject();for(var key in object)if(object.hasOwnProperty(key)&&typeof object[key]==="number")vm.setProperty(target,key,vm.createNumber(object[key]))}vm.call(vItem,vm.createUndefined(),target)}));else temp.push(undefined)};var _value;var vThisRef=vm.asObject(this);var temp=[];for(var i=0,length=arguments.length;i<length;i++)_loop(i,length);var easing=temp[temp.length-1];if(typeof easing==="string")temp[temp.length-1]=$fbbd60cc0608b3d1$exports.easing[easing]||easing;(_value=vThisRef.value)[key2].apply(_value,$ftNz4$swchelpers.toConsumableArray(temp));return this}));vm.setProperty(vToProto,key2,vFun)};for(var _iterator=key0or1ArgFuns[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true)_loop1(_iterator,_step)}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}var vToF=vm.createFunction("to",(function(){var vThisRef=vm.asObject(this);var length=arguments.length;if(length===0){vThisRef.value.to();return this}var vObject=vm.getProperty(global,"Object");var vKeysFunc=vm.getProperty(vObject,"keys");var vTarget=arguments[0];var vKeys=vm.call(vKeysFunc,vm.createUndefined(),vTarget);var vLength=vm.getProperty(vKeys,"length");var target={};for(var i=0,length1=vm.asNumber(vLength);i<length1;i++){var vKey=vm.getProperty(vKeys,i);var key=vm.asString(vKey);var vValue=vm.getProperty(vTarget,key);target[key]=vm.asNumber(vValue)}var duration=length>1?vm.asNumber(arguments[1]):0;var easing=length>2?vm.asString(arguments[2]):"linear";vThisRef.value.to(target,duration,$fbbd60cc0608b3d1$exports.easing[easing]);return this}));var vSet=vm.createFunction("set",(function(vProp,vValue,vDuration,vEasing){var vThisRef=vm.asObject(this);var prop=vm.asString(vProp);var value=vm.asNumber(vValue);var duration=vm.isNumber(vDuration)?vm.asNumber(vDuration):0;var easing=vm.isString(vEasing)?vm.asString(vEasing):"linear";vThisRef.value.set(prop,value,duration,$fbbd60cc0608b3d1$exports.easing[easing]);return this}));vm.setProperty(vToProto,"to",vToF);vm.setProperty(vToProto,"set",vSet);vm.setProperty(vTo,"get",vGet);var vEasing1=vm.createObject();vm.setProperty(vEasing1,"linear",vm.createString($fbbd60cc0608b3d1$exports.easing.linear));var _iteratorNormalCompletion1=true,_didIteratorError1=false,_iteratorError1=undefined,_iteratorNormalCompletion2=true,_didIteratorError2=false,_iteratorError2=undefined;try{for(var _iterator1=$5d88098578def7bd$var$EASING[Symbol.iterator](),_step1;!(_iteratorNormalCompletion2=(_step1=_iterator1.next()).done);_iteratorNormalCompletion2=true){var item=_step1.value;try{for(var _iterator2=["In","Out","InOut"][Symbol.iterator](),_step2;!(_iteratorNormalCompletion1=(_step2=_iterator2.next()).done);_iteratorNormalCompletion1=true){var suffix=_step2.value;var key1="".concat(item.toLowerCase()).concat(suffix);vm.setProperty(vEasing1,key1,vm.createString(key1))}}catch(err){_didIteratorError1=true;_iteratorError1=err}finally{try{if(!_iteratorNormalCompletion1&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError1){throw _iteratorError1}}}}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator1.return!=null){_iterator1.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}vm.setProperty(vTo,"easing",vEasing1);vm.setProperty(vCax,"easing",vEasing1);vm.setPrototype(vTo,vToProto);vm.setProperty(vCax,"To",vTo)};module.exports=function(vm){$6442852b4c640657$exports(vm);$145a96f97bd0b9d3$exports(vm);$ecb626c0880046e8$exports(vm);$90183b8ed5aae1a0$exports(vm);$f456757e366d9a79$exports(vm);$36c1f11bd6d88829$exports(vm);$4bc93b7ba913b351$exports(vm);$7c4f32d9022ca3ab$exports(vm);$841afdb02fe85ab6$exports(vm);$4130cbda7f928726$exports(vm);$8af08f853bfef2bc$exports(vm);$2a6b514a6b9b8f92$exports(vm);$ccab8fd1bf890cba$exports(vm);$9041265fa09c4421$exports(vm);$5d88098578def7bd$exports(vm)};